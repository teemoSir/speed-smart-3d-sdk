!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("cesium")):"function"==typeof define&&define.amd?define(["exports","cesium"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).daas={},e.Cesium)}(this,(function(e,r){"use strict";function i(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var t=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,t.get?t:{enumerable:!0,get:function(){return e[i]}})}})),r.default=e,Object.freeze(r)}var t=i(r),n=function(){function e(){}return e.getUrl=function(e){var r=e.baseUrl,i=e.tmsIds,t=e.format,n=e.token;if(!r)throw new Error("未配置baseUrl");if(!n)throw new Error("未配置token");return r+"?tmsIds="+(i=i||"w")+"&format="+(t=t||"webp")+"&token="+n},e}(),o=function(){function e(e,r){var i=e.name,o=e.index,a=e.minimumLevel,s=e.maximumLevel,u=e.visible,y=e.subdomains,c={url:n.getUrl(e),minimumLevel:a||0,maximumLevel:s||18,subdomains:y};this._provider=new t.UrlTemplateImageryProvider(c),this._cesiumIns=r,this.name=i,this._index=o,this._layer=this._cesiumIns._viewer.imageryLayers.addImageryProvider(this._provider,this.index),this.show=u||!1}return Object.defineProperty(e.prototype,"show",{get:function(){return this._layer.show},set:function(e){this._layer.show=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){var r=this._cesiumIns.curCesiumLayer.indexOf(this);if(-1==r||null==this._layer)throw new Error("图层未加载,不可设置index");if(e>=this._cesiumIns.curCesiumLayer.length)throw new Error("index的值不可比当前的图层数量大");var i=e-r;if(i<0)for(var t=0;t<-i;t++)this._cesiumIns._viewer.imageryLayers.lower(this._layer);else if(i>0)for(t=0;t<i;t++)this._cesiumIns._viewer.imageryLayers.raise(this._layer)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._layer.alpha},set:function(e){this._layer.alpha=e},enumerable:!1,configurable:!0}),e}();var a=function(){function e(e){this.cesiumLayerMap={},this._viewer=e}return Object.defineProperty(e.prototype,"cesiumLayers",{get:function(){return Object.values(this.cesiumLayerMap)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curCesiumLayer",{get:function(){return this.cesiumLayers.filter((function(e){return e.show}))},enumerable:!1,configurable:!0}),e.prototype.addLayer=function(e){var r=e.name;if(!r)throw new Error("未指定图层名称name");var i=new o(e,this);return this.cesiumLayers.push(i),this.cesiumLayerMap[r]=i,i},e.prototype.getLayerByName=function(e){var r=this.cesiumLayerMap[e];return null==r||r._layer,r},e.prototype.removeLayerByName=function(e){var r=this.getLayerByName(e);return!!r&&(this._viewer.imageryLayers.remove(r._layer),delete this.cesiumLayerMap[e],!0)},e.prototype.showLayerByName=function(e){var r=this.getLayerByName(e);r&&(-1==this._viewer.imageryLayers.indexOf(r._layer)&&(r._layer=this._viewer.imageryLayers.addImageryProvider(r._provider,r.index)),r.show=!0)},e.prototype.hideLayerByName=function(e){var r=this.getLayerByName(e);r&&(r.show=!1)},e.prototype.setTerrain=function(e){e.url,e.token,e.url+="?token="+e.token,this._viewer.terrainProvider=new t.CesiumTerrainProvider(e)},e.prototype.clearTerrain=function(){this._viewer.terrainProvider instanceof t.EllipsoidTerrainProvider||(this._viewer.terrainProvider=new t.EllipsoidTerrainProvider)},e}();e.useCesium=function(e){return e.imageryLayers.removeAll(),new a(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=daas.geovis.cesium.v1.0.1.min.js.map
