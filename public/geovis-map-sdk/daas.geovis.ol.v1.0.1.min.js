!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ol")):"function"==typeof define&&define.amd?define(["exports","ol"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).daas={},e.ol)}(this,(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var o=r(t),n=function(){function e(){}return e.getUrl=function(e){var t=e.baseUrl,r=e.tmsIds,o=e.format,n=e.token;if(!t)throw new Error("未配置baseUrl");if(!n)throw new Error("未配置token");return t+"?tmsIds="+(r=r||"w")+"&format="+(o=o||"webp")+"&token="+n},e}(),i=function(){function e(e,t){var r,i=e.projection,a=void 0===i?"EPSG:3857":i,u=e.minZoom,s=void 0===u?0:u,y=e.maxZoom,f=void 0===y?18:y,l=e.crossOrigin,c=void 0===l?"anonymous":l,p=e.visible,h=void 0!==p&&p,d=e.index,m=e.name;this.name=m,r=new o.source.XYZ({minZoom:s,maxZoom:f,projection:a,url:n.getUrl(e),crossOrigin:c}),this._layer=new o.layer.Tile({visible:h,source:r}),this.show=h,this.index=d}return Object.defineProperty(e.prototype,"show",{get:function(){return this._layer.getVisible()},set:function(e){this._layer.setVisible(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._layer.getZIndex()},set:function(e){this._layer.setZIndex(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._layer.getOpacity()},set:function(e){this._layer.setOpacity(e)},enumerable:!1,configurable:!0}),e}();var a=function(){function e(e){this.olLayerMap={},this.map=e}return Object.defineProperty(e.prototype,"olLayers",{get:function(){return Object.values(this.olLayerMap)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curOlLayer",{get:function(){return this.olLayers.filter((function(e){return e.show}))},enumerable:!1,configurable:!0}),e.prototype.addLayer=function(e){var t=e.name;if(!t)throw new Error("未指定图层名称name");var r=new i(e,this);return this.map.addLayer(r._layer),this.olLayers.push(r),this.olLayerMap[t]=r,r},e.prototype.getLayerByName=function(e){var t=this.olLayerMap[e];return t},e.prototype.removeLayerByName=function(e){var t=this.getLayerByName(e);return!!t&&(this.map.removeLayer(t._layer),delete this.olLayerMap[e],!0)},e.prototype.showLayerByName=function(e){var t=this.getLayerByName(e);t&&(t.show=!0)},e.prototype.hideLayerByName=function(e){var t=this.getLayerByName(e);t&&(t.show=!1)},e}();e.useOpenlayer=function(e){return new a(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=daas.geovis.ol.v1.0.1.min.js.map
