const _0x2b0b=['ClearCommand','textureHeight','AssociativeArray','ONLY_KEEP_LINE','fetchXML','max\x20visible\x20distance','push','AnalysisRegionMode','setOnlyObjsVisible','arraySize','cartesianToCartographic','analysisMode','multiply','paramType','CategoryRange','_multiChoose','project','heightRange','name','clip','Matrix3','CLIP_BEHIND_ALL_PLANE','_swipeRegion','attachFile','_isS3MB','arrayFloat','EMPTY_OBJECT','isArray','_objsColorList','isDestroyed','FileType','setCustomClipPlane','priority','generateBuffer','SetColor','_baseResource','Multiple','averageHeight','hypsometric','attachFiles','number','362144HBOXbN','Index','setSelection\x20ids','MinY','_objsVisibleList','_requestTiles','planeNormal','namespace','sort','renderEntities','15XfhHyi','value','_basePath','_waterPlanes','WaterEffect','.s3m','length','extensions','_clipMode','dot','textContent','minVisibleDistance','fromTranslation','ready','_updateAllObjsVisible','removeAll','ArrayFloat','region','Name','indexOf','normalize','min','typeOf','_tranverseRenderEntity','center','map','fromDegrees','GeographicProjection','Check','FData','Right','Meter','_maxCategory','_materialManager','_maximumMemoryUsage','remove','curDis','_processTiles','_visible','Authentication\x20error','_sceneMode','HeadingPitchRoll','Version','inverse','tiles','_setObjsOperationType','setOnlyObjsVisible\x20ids','_selectedTiles','left','ParamType','s3m:TransparencyOptimization','fileType','unloadBlockTiles','radius','_edgeCurrentTotalLength','ConstType','boundingVolume','clipMode','destroy','_style3D','max\x20visible\x20altitude','pitch','s3m:FileType','realspace','createGuid','ARM_NONE','dimensions\x20position\x20is\x20required\x20to\x20create\x20CustomClipBox','update','_schuduler','clip_behind_any_plane','gpuProgramParameters','ColorTable','11489EEPjwE','fromDegreesArrayHeights','positionCartographic','RGBA','_removeObjsOperationType','1918965pPaSXp','pop','width','destroyObject','getBaseUri','fetchJson','setVisibleInViewport','createCommand','free','constType','hypsometricSetting','_minHeight','set\x20Objs\x20Operation\x20ids','_enableClip','WGS84','geoBounds','reset','CenterX','CLIP_NOTHING','processRequests','_url','fData','OUTSIDE','_swipeEnabled','Rectangle','_minWValue','/rest/realspace','isS3MB','options.context','_rectangle','_position','passes','resolve','renderTexture','style3D','position','multiplyByVector','TRUE','IDENTITY','multiple','_updateFlattenFramebuffer','setObjsColor\x20color','_updateObjsOperation','defaultValue','setLodRangeScale','createIfNeeded','postPassesUpdate','object','Radius','_selections','Framebuffer','releaseSelection','set','_edgeDistanceFalloffFactor','MaxCategory','bool','setObjsColor\x20ids','MinZ','_cache','copyFrom','values','heading','rss','right','MAX_VALUE','transpose','s3mblock','_createRasterRegion','_enableClipPlane','height','only_keep_line','Texture','isRootTile','ElementCount','Color','_minCategory','defined','prototype','_lodRangeScale','_clipPlane','camera','_blockCache','3YbdcGt','updateObjsColor','_addRenderedEdge','getSingleInstance','_rootTiles','.water','_edgeCurrentCount','childNodes','distance','Bounds','_minimumPriority','_maxHeight','pick','firstChild','SCENE3D','CenterZ','textureWidth','2437fhjKIM','abs','children','GpuConstantDefinition','setOnlyObjsVisible\x20isVisible','Matrix4','headingPitchRollToFixedFrame','minVisibleAltitude','bottom','maxVisibleAltitude','AverageHeight','addFlattenRegion','queryFirstNode','updateObjsOperation','_minVisibleAltitude','Intersect','_selectEnabled','wDescript','MinX','data/path/','defer','isUseHypColorTable','Data','invModelMatrix','_flattenPar','hasOwnProperty','otherwise','_hash','getExtensionFromUri','SceneMode','ArraySize','planePos','_subTextureManager','schedule','queryStringValue','replace','index','MaxHeight','fromElements','texture','_imageBuffer','CLIP_BEHIND_ANY_PLANE','_visibleViewport','queryBooleanValue','heightOffset','queryNumericValue','Cartographic','89943sepzrT','defineProperties','TRANSPARENT','Files','setObjsVisible','getVisibleInViewport','execute','get','queryNodes','isUpdate','lodRangeScale','TransparencyOptimization','min\x20visible\x20altitude','dimensions','_allObjsHide','command','OSGFiles','addWaterPlane','_visibleDistanceMin','updateAllObjsVisible','_objsHideList','_Water','cullingVolume','modelMatrix','Cartesian3','RESET','MaxY','PolygonGeometry','subtract','Float','_visibleDistanceMax','BoundingRectangle','atuoConstants','_readyPromise','reject','maxVisibleDistance','eastNorthUpToFixedFrame','Cartesian2','_objsVisibleMap','17KhOSuE','DeveloperError','url','gpuConstants','ids','IsReal','setObjsColor','sceneMode','the\x20index\x20is\x200~8','_updateObjsColor','unpack','1qjkZDO','removeObjsColor\x20ids','_oriClipPlane','929427sTmAtI','SELECTED','multiplyByMatrix3','Cartesian4','Transforms','concat','multiViewportIndex','PhysicalIndex','removeObjsColor','clone','brdfLutGenerator','16sjNHdu','COLUMBUS_VIEW','the\x20index\x20is\x200~3','bounds','HIDE','fbo','setting','_waterParameters','_totalMemoryUsageInBytes','min\x20visible\x20distance','_maximumPriority','ellipsoid','Ellipsoid','FileName','56598tIrctz','newFrame','Position','add','loadConfig','context','GpuProgramParameters','_isTransparencyOptimization','setCustomClipBox','_isS3MBlock','HeightRange','_objsOperationList','BoundingBox','setSelection','keys','max','requestContent','ALL','_updateEdgeDistanceFalloffFactor','AutoConstantEntry','_selectedColor','swipe','when','_maxVisibleAltitude','clearCustomClipBox','PixelFormat','then','_hypsometric'];const _0x555439=_0x4ddf;(function(_0x476e0b,_0x4f63d2){const _0x1e8919=_0x4ddf;while(!![]){try{const _0x476f7d=-parseInt(_0x1e8919(0x1fe))*parseInt(_0x1e8919(0x1fb))+parseInt(_0x1e8919(0x266))*-parseInt(_0x1e8919(0x2ae))+-parseInt(_0x1e8919(0x217))*parseInt(_0x1e8919(0x209))+parseInt(_0x1e8919(0x305))*parseInt(_0x1e8919(0x1c9))+parseInt(_0x1e8919(0x25c))+-parseInt(_0x1e8919(0x1f0))*parseInt(_0x1e8919(0x316))+parseInt(_0x1e8919(0x2b3));if(_0x476f7d===_0x4f63d2)break;else _0x476e0b['push'](_0x476e0b['shift']());}catch(_0x22b6a4){_0x476e0b['push'](_0x476e0b['shift']());}}}(_0x2b0b,0x7a9a3));import _0x406cb4 from'./S3MTile.js';import _0x3bf700 from'./S3MLayerScheduler.js';import _0x7c8391 from'./S3MLayerCache.js';import _0x43f97a from'./Enum/OperationType.js';import _0x4423b0 from'./Enum/PLANECLIPMODE.js';import _0x360407 from'./Hypsometric.js';import _0x41ab24 from'./HypsometricSetting.js';import _0x5f400a from'./Enum/HypsometricSettingEnum.js';import _0x2c3922 from'./Parameter/Flatten.js';import _0x76aa1 from'./RasterRegion.js';function _0x4ddf(_0x5ae279,_0x1f05c5){_0x5ae279=_0x5ae279-0x1ad;let _0x2b0ba6=_0x2b0b[_0x5ae279];return _0x2b0ba6;}import _0x1d30df from'../Ext/XmlParser.js';import _0x619240 from'./Style3D.js';import _0x904e5f from'./S3MBlockCache.js';var transform_2d=new Cesium[(_0x555439(0x31b))](0x0,0x0,0x1,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x1);function S3MTilesLayer(_0x180c7f){const _0x2c5a7c=_0x555439;_0x180c7f=Cesium[_0x2c5a7c(0x2de)](_0x180c7f,Cesium[_0x2c5a7c(0x2de)][_0x2c5a7c(0x24d)]),Cesium[_0x2c5a7c(0x282)]['defined'](_0x2c5a7c(0x2cf),_0x180c7f[_0x2c5a7c(0x21c)]),Cesium[_0x2c5a7c(0x282)][_0x2c5a7c(0x2ff)](_0x2c5a7c(0x28d),_0x180c7f[_0x2c5a7c(0x2f1)]),this['id']=Cesium[_0x2c5a7c(0x2a6)](),this['name']=_0x180c7f[_0x2c5a7c(0x245)],this[_0x2c5a7c(0x21c)]=_0x180c7f[_0x2c5a7c(0x21c)],this[_0x2c5a7c(0x24b)]=Cesium[_0x2c5a7c(0x2de)](_0x180c7f[_0x2c5a7c(0x2ce)],!![]),this[_0x2c5a7c(0x220)]=Cesium[_0x2c5a7c(0x2de)](_0x180c7f['isS3MBlock'],![]),this[_0x2c5a7c(0x2c7)]=undefined,this[_0x2c5a7c(0x268)]=undefined,this[_0x2c5a7c(0x256)]=undefined,this['modelMatrix']=new Cesium[(_0x2c5a7c(0x31b))](),this[_0x2c5a7c(0x1b1)]=new Cesium[(_0x2c5a7c(0x31b))](),this['fileType']=undefined,this[_0x2c5a7c(0x2d1)]=undefined,this[_0x2c5a7c(0x2d0)]=undefined,this[_0x2c5a7c(0x309)]=[],this[_0x2c5a7c(0x2aa)]=new _0x3bf700(),this[_0x2c5a7c(0x261)]=[],this[_0x2c5a7c(0x28b)]=[],this[_0x2c5a7c(0x295)]=[],this[_0x2c5a7c(0x2ed)]=new _0x7c8391(),this[_0x2c5a7c(0x288)]=-0x1,this[_0x2c5a7c(0x211)]=0x0,this[_0x2c5a7c(0x213)]={'foveatedFactor':-Number['MAX_VALUE'],'depth':-Number[_0x2c5a7c(0x2f3)],'distance':-Number['MAX_VALUE'],'pixel':-Number['MAX_VALUE']},this[_0x2c5a7c(0x30f)]={'foveatedFactor':Number[_0x2c5a7c(0x2f3)],'depth':Number[_0x2c5a7c(0x2f3)],'distance':Number[_0x2c5a7c(0x2f3)],'pixel':Number[_0x2c5a7c(0x2f3)]},this[_0x2c5a7c(0x1ea)]=Cesium[_0x2c5a7c(0x22d)][_0x2c5a7c(0x1ae)](),this[_0x2c5a7c(0x326)]=Cesium['defaultValue'](_0x180c7f['selectEnabled'],!![]),this[_0x2c5a7c(0x242)]=![],this[_0x2c5a7c(0x28e)]=Cesium['defaultValue'](_0x180c7f[_0x2c5a7c(0x1f7)],Cesium[_0x2c5a7c(0x1b7)][_0x2c5a7c(0x313)]),this[_0x2c5a7c(0x2e4)]=[],this['_selectedColor']=new Cesium[(_0x2c5a7c(0x2fd))](0.7,0.7,0x1,0x1),this[_0x2c5a7c(0x222)]=new Cesium['AssociativeArray'](),this[_0x2c5a7c(0x260)]=new Cesium[(_0x2c5a7c(0x235))](),this[_0x2c5a7c(0x1dd)]=new Cesium[(_0x2c5a7c(0x235))](),this[_0x2c5a7c(0x1ef)]={},this[_0x2c5a7c(0x24f)]={},this[_0x2c5a7c(0x1d7)]=![],this[_0x2c5a7c(0x26e)]=_0x4423b0[_0x2c5a7c(0x2c5)],this[_0x2c5a7c(0x2c0)]=![],this[_0x2c5a7c(0x2f7)]=![],this[_0x2c5a7c(0x302)]=[new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0),new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0),new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0)],this[_0x2c5a7c(0x1fd)]=[new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium['Cartesian4'](0x0,0x0,0x0,0x0),new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x0,0x0)],this[_0x2c5a7c(0x232)]=new _0x360407({}),this['_flattenPar']=new _0x2c3922(),this[_0x2c5a7c(0x2fe)]=0x0,this[_0x2c5a7c(0x286)]=0x0,this[_0x2c5a7c(0x2be)]=0x0,this['_maxHeight']=0x0,this['_swipeRegion']=new Cesium[(_0x2c5a7c(0x201))](0x0,0x0,0x1,0x1),this[_0x2c5a7c(0x2ca)]=![],this[_0x2c5a7c(0x1e7)]=Cesium['defaultValue'](_0x180c7f[_0x2c5a7c(0x1ec)],Number['MAX_VALUE']),this[_0x2c5a7c(0x1db)]=Cesium[_0x2c5a7c(0x2de)](_0x180c7f[_0x2c5a7c(0x271)],0x0),this[_0x2c5a7c(0x324)]=Cesium[_0x2c5a7c(0x2de)](_0x180c7f[_0x2c5a7c(0x31d)],0x0),this[_0x2c5a7c(0x22e)]=Cesium[_0x2c5a7c(0x2de)](_0x180c7f[_0x2c5a7c(0x31f)],Number['MAX_VALUE']),this['_lodRangeScale']=Cesium[_0x2c5a7c(0x2de)](_0x180c7f[_0x2c5a7c(0x1d3)],0x1),this['_visible']=Cesium[_0x2c5a7c(0x2de)](_0x180c7f['visible'],!![]),this[_0x2c5a7c(0x2a1)]=Cesium['defaultValue'](_0x180c7f[_0x2c5a7c(0x2d5)],new _0x619240()),this[_0x2c5a7c(0x21e)]=![],this[_0x2c5a7c(0x1c4)]=0xfff,this[_0x2c5a7c(0x210)]=undefined,this[_0x2c5a7c(0x269)]=undefined,this[_0x2c5a7c(0x2e8)]=0x0,this[_0x2c5a7c(0x29c)]=0x0,this[_0x2c5a7c(0x30b)]=0x0,this[_0x2c5a7c(0x304)]=_0x904e5f[_0x2c5a7c(0x308)](),this[_0x2c5a7c(0x287)]=undefined,this['_subTextureManager']=undefined,this[_0x2c5a7c(0x21b)](_0x180c7f[_0x2c5a7c(0x1f2)]);}Object[_0x555439(0x1ca)](S3MTilesLayer[_0x555439(0x300)],{'ready':{'get':function(){const _0x3276d8=_0x555439;if(this[_0x3276d8(0x299)]==='OSGBCacheFile_Water')return this[_0x3276d8(0x210)]!==undefined&&this[_0x3276d8(0x309)][_0x3276d8(0x26c)]>0x0;return this[_0x3276d8(0x309)][_0x3276d8(0x26c)]>0x0;}},'readyPromise':{'get':function(){const _0x19fb5a=_0x555439;return this[_0x19fb5a(0x1ea)];}},'visible':{'get':function(){const _0x18037a=_0x555439;return this[_0x18037a(0x28c)];},'set':function(_0x17b6bb){const _0x333118=_0x555439;this[_0x333118(0x28c)]=_0x17b6bb;}},'style3D':{'get':function(){const _0x5b22fc=_0x555439;return this[_0x5b22fc(0x2a1)];}},'rectangle':{'get':function(){const _0x236919=_0x555439;return this[_0x236919(0x2d0)];}},'totalMemoryUsageInBytes':{'get':function(){const _0x1b4ecd=_0x555439;return this[_0x1b4ecd(0x211)];},'set':function(_0x3c4f71){const _0x457804=_0x555439;this[_0x457804(0x211)]=_0x3c4f71;}},'maximumMemoryUsage':{'get':function(){return this['_maximumMemoryUsage'];},'set':function(_0x24eb3c){const _0x301a89=_0x555439;this[_0x301a89(0x288)]=_0x24eb3c;}},'lodRangeScale':{'get':function(){return this['_lodRangeScale'];},'set':function(_0x19b5e0){const _0x92af2b=_0x555439;Cesium['Check'][_0x92af2b(0x27c)]['number']('set\x20layer\x20lod\x20range\x20scale',_0x19b5e0),this[_0x92af2b(0x301)]=_0x19b5e0;}},'selectedColor':{'get':function(){const _0x3b6eb7=_0x555439;return this[_0x3b6eb7(0x22b)];},'set':function(_0x145429){const _0x573dea=_0x555439;Cesium['Color'][_0x573dea(0x207)](_0x145429,this['_selectedColor']);}},'dataMinValue':{'get':function(){const _0x28f9f4=_0x555439;return Cesium[_0x28f9f4(0x2de)](this[_0x28f9f4(0x2fe)],this['_minHeight']);}},'dataMaxValue':{'get':function(){const _0x403374=_0x555439;return Cesium[_0x403374(0x2de)](this['_maxCategory'],this[_0x403374(0x310)]);}},'swipeRegion':{'get':function(){const _0x5218c0=_0x555439;return new Cesium[(_0x5218c0(0x1e8))](this[_0x5218c0(0x249)]['x'],this['_swipeRegion']['y'],this['_swipeRegion']['z']-this[_0x5218c0(0x249)]['x'],this[_0x5218c0(0x249)]['w']-this[_0x5218c0(0x249)]['y']);},'set':function(_0x3b17d6){const _0x51d88a=_0x555439;if(!_0x3b17d6)return;if(!(_0x3b17d6 instanceof Cesium[_0x51d88a(0x1e8)]))throw new Cesium[(_0x51d88a(0x1f1))]('swipeRegion\x20must\x20be\x20a\x20instance\x20of\x20BoundingRectangle.');Cesium['Cartesian4'][_0x51d88a(0x1c0)](_0x3b17d6['x'],_0x3b17d6['y'],_0x3b17d6['x']+_0x3b17d6[_0x51d88a(0x2b5)],_0x3b17d6['y']+_0x3b17d6[_0x51d88a(0x2f8)],this[_0x51d88a(0x249)]);}},'swipeEnabled':{'get':function(){const _0x700765=_0x555439;return this[_0x700765(0x2ca)];},'set':function(_0x519646){const _0x35d11a=_0x555439;if(_0x519646===this[_0x35d11a(0x2ca)])return;!_0x519646&&Cesium[_0x35d11a(0x201)][_0x35d11a(0x1c0)](0x0,0x0,0x1,0x1,this[_0x35d11a(0x249)]),this[_0x35d11a(0x2ca)]=_0x519646,this[_0x35d11a(0x27d)]({'enable':_0x519646},swipeCallback);}},'visibleDistanceMax':{'get':function(){return this['_visibleDistanceMax'];},'set':function(_0x656777){const _0x136ee3=_0x555439;Cesium['Check'][_0x136ee3(0x27c)][_0x136ee3(0x25b)](_0x136ee3(0x238),_0x656777),this[_0x136ee3(0x1e7)]=_0x656777;}},'visibleDistanceMin':{'get':function(){const _0x4b5d24=_0x555439;return this[_0x4b5d24(0x1db)];},'set':function(_0x1e4f2e){const _0x482aa3=_0x555439;Cesium[_0x482aa3(0x282)]['typeOf']['number'](_0x482aa3(0x212),_0x1e4f2e),this[_0x482aa3(0x1db)]=_0x1e4f2e;}},'minVisibleAltitude':{'get':function(){const _0x817b0d=_0x555439;return this[_0x817b0d(0x324)];},'set':function(_0x1a967b){const _0x42c141=_0x555439;Cesium['Check'][_0x42c141(0x27c)][_0x42c141(0x25b)](_0x42c141(0x1d5),_0x1a967b),this[_0x42c141(0x324)]=_0x1a967b;}},'maxVisibleAltitude':{'get':function(){const _0x525216=_0x555439;return this[_0x525216(0x22e)];},'set':function(_0x17d519){const _0x22c012=_0x555439;Cesium[_0x22c012(0x282)][_0x22c012(0x27c)][_0x22c012(0x25b)](_0x22c012(0x2a2),_0x17d519),this['_maxVisibleAltitude']=_0x17d519;}},'hypsometricSetting':{'get':function(){const _0x14af50=_0x555439;return{'hypsometricSetting':this[_0x14af50(0x232)][_0x14af50(0x20f)],'analysisMode':this[_0x14af50(0x232)]['analysisMode']};},'set':function(_0x18e85a){const _0x1dcb31=_0x555439;let _0x393daf=this[_0x1dcb31(0x232)];if(!_0x18e85a||!_0x18e85a[_0x1dcb31(0x2bd)]){_0x393daf[_0x1dcb31(0x1af)]=![],_0x393daf[_0x1dcb31(0x20f)]=_0x393daf[_0x1dcb31(0x20f)]&&_0x393daf[_0x1dcb31(0x20f)][_0x1dcb31(0x2a0)](),this['_tranverseRenderEntity']({'enable':![]},hypsometricCallback);return;}_0x393daf[_0x1dcb31(0x277)]=_0x393daf[_0x1dcb31(0x277)]&&_0x393daf[_0x1dcb31(0x277)][_0x1dcb31(0x2a0)](),!_0x393daf['renderTexture']&&(_0x393daf[_0x1dcb31(0x2d4)]=new Cesium['Texture']({'context':this[_0x1dcb31(0x21c)],'width':0x400,'height':0x400,'pixelFormat':Cesium[_0x1dcb31(0x230)]['RGBA']})),!_0x393daf[_0x1dcb31(0x1c1)]&&(_0x393daf[_0x1dcb31(0x1c1)]=new Cesium[(_0x1dcb31(0x2fa))]({'context':this[_0x1dcb31(0x21c)],'width':0x400,'height':0x40,'pixelFormat':Cesium[_0x1dcb31(0x230)][_0x1dcb31(0x2b1)],'flipY':![]})),_0x393daf[_0x1dcb31(0x23e)]=Cesium[_0x1dcb31(0x2de)](_0x18e85a[_0x1dcb31(0x23e)],_0x393daf[_0x1dcb31(0x23e)]),_0x393daf[_0x1dcb31(0x20f)]=_0x41ab24[_0x1dcb31(0x207)](_0x18e85a[_0x1dcb31(0x2bd)],_0x393daf[_0x1dcb31(0x20f)]),_0x393daf['setting'][_0x1dcb31(0x2ad)]&&(_0x393daf['setting'][_0x1dcb31(0x2ad)][_0x1dcb31(0x254)](),this['_hypsometric']['texture']&&this[_0x1dcb31(0x232)]['texture'][_0x1dcb31(0x2ee)]({'width':0x400,'height':0x40,'arrayBufferView':_0x393daf[_0x1dcb31(0x20f)]['ColorTable'][_0x1dcb31(0x1c2)]})),_0x393daf['isUseHypColorTable']=_0x393daf['analysisMode']!==_0x5f400a[_0x1dcb31(0x23a)][_0x1dcb31(0x2a7)],this[_0x1dcb31(0x27d)]({'enable':_0x393daf[_0x1dcb31(0x1af)]},hypsometricCallback);}},'selectEnabled':{'get':function(){return this['_selectEnabled'];},'set':function(_0x14655f){const _0x43a958=_0x555439;Cesium['Check'][_0x43a958(0x2ff)](_0x43a958(0x267),_0x14655f),Cesium['Check']['typeOf'][_0x43a958(0x2ea)]('value',_0x14655f),this[_0x43a958(0x326)]=_0x14655f;}}});function getWaterEffect(_0x3d6066){const _0x13b34b=_0x555439;let _0x35db17={},_0x259f05=_0x3d6066[_0x13b34b(0x312)];_0x35db17['version']=_0x1d30df['queryStringValue'](_0x259f05,_0x13b34b(0x290)),_0x35db17[_0x13b34b(0x299)]=_0x1d30df['queryStringValue'](_0x259f05,_0x13b34b(0x251));let _0x572bc3=_0x1d30df[_0x13b34b(0x322)](_0x259f05,_0x13b34b(0x26a));_0x35db17[_0x13b34b(0x258)]=_0x1d30df[_0x13b34b(0x1c7)](_0x572bc3,_0x13b34b(0x320));let _0x508c51=_0x1d30df[_0x13b34b(0x1d1)](_0x572bc3,_0x13b34b(0x21d));_0x35db17['gpuProgramParameters']=[];for(let _0x426beb=0x0,_0x4b44ca=_0x508c51[_0x13b34b(0x26c)];_0x426beb<_0x4b44ca;_0x426beb++){let _0x11854={};_0x11854[_0x13b34b(0x1f3)]=[],_0x11854[_0x13b34b(0x1e9)]=[];let _0x22f75c=_0x508c51[_0x426beb],_0x47ba18=_0x1d30df['queryFirstNode'](_0x22f75c,'GpuConstants');if(_0x47ba18){let _0x11c569=_0x1d30df[_0x13b34b(0x1d1)](_0x47ba18,_0x13b34b(0x319));for(let _0x15cf74=0x0,_0x5c941c=_0x11c569[_0x13b34b(0x26c)];_0x15cf74<_0x5c941c;_0x15cf74++){let _0xf096f5={},_0x240295=_0x11c569[_0x15cf74];_0xf096f5[_0x13b34b(0x2bc)]=_0x1d30df[_0x13b34b(0x1c7)](_0x240295,_0x13b34b(0x29d)),_0xf096f5[_0x13b34b(0x1be)]=_0x1d30df[_0x13b34b(0x1c7)](_0x240295,_0x13b34b(0x25d)),_0xf096f5[_0x13b34b(0x245)]=_0x1d30df['queryStringValue'](_0x240295,'Name'),_0xf096f5[_0x13b34b(0x23c)]=_0x1d30df[_0x13b34b(0x1c7)](_0x240295,_0x13b34b(0x1b8)),_0xf096f5[_0x13b34b(0x2da)]=_0x1d30df[_0x13b34b(0x1c7)](_0x240295,_0x13b34b(0x257));let _0x401ff6=_0x1d30df[_0x13b34b(0x322)](_0x240295,_0x13b34b(0x276));_0xf096f5[_0x13b34b(0x24c)]=[];if(_0x401ff6){let _0x28176c=_0x1d30df[_0x13b34b(0x1d1)](_0x401ff6,_0x13b34b(0x1e6)),_0x386ebb=0x0;while(_0x386ebb<_0xf096f5['arraySize']){let _0x2d446d=parseFloat(_0x28176c[_0x386ebb]['textContent']);_0xf096f5['arrayFloat']['push'](_0x2d446d),_0x386ebb++;}}_0x11854[_0x13b34b(0x1f3)][_0x13b34b(0x239)](_0xf096f5);}}let _0x5acc1b=_0x1d30df[_0x13b34b(0x322)](_0x22f75c,'AutoConstants');if(_0x5acc1b){let _0x3d01fe=_0x1d30df[_0x13b34b(0x1d1)](_0x5acc1b,_0x13b34b(0x22a));for(let _0x14d2e4=0x0,_0x2818c1=_0x3d01fe[_0x13b34b(0x26c)];_0x14d2e4<_0x2818c1;_0x14d2e4++){let _0x47bd65={},_0xfba611=_0x3d01fe[_0x14d2e4];_0x47bd65[_0x13b34b(0x240)]=_0x1d30df['queryNumericValue'](_0xfba611,_0x13b34b(0x297)),_0x47bd65[_0x13b34b(0x245)]=_0x1d30df[_0x13b34b(0x1bc)](_0xfba611,_0x13b34b(0x278)),_0x47bd65['physicalIndex']=_0x1d30df[_0x13b34b(0x1c7)](_0xfba611,_0x13b34b(0x205)),_0x47bd65['elementCount']=_0x1d30df[_0x13b34b(0x1c7)](_0xfba611,_0x13b34b(0x2fc)),_0x47bd65['data']=_0x1d30df[_0x13b34b(0x1c7)](_0xfba611,_0x13b34b(0x1b0)),_0x47bd65['fData']=_0x1d30df[_0x13b34b(0x1c7)](_0xfba611,_0x13b34b(0x283)),_0x47bd65['isReal']=_0x1d30df[_0x13b34b(0x1c5)](_0xfba611,_0x13b34b(0x1f5)),_0x11854[_0x13b34b(0x1e9)][_0x13b34b(0x239)](_0x47bd65);}}_0x35db17[_0x13b34b(0x2ac)]['push'](_0x11854);}return _0x35db17;}function getUrl(_0x4d8386,_0x39a3ba){const _0x4693eb=_0x555439;let _0x34020a=_0x39a3ba[_0x4693eb(0x268)],_0x234304=_0x39a3ba[_0x4693eb(0x268)][_0x4693eb(0x279)](_0x4693eb(0x2a5))>-0x1;if(!_0x234304)return _0x4d8386;let _0x1e0bec=_0x34020a[_0x4693eb(0x1bd)](/(.*realspace)/,''),_0x21daeb=_0x34020a[_0x4693eb(0x1bd)](/\/rest\/realspace/g,'')[_0x4693eb(0x1bd)](_0x1e0bec,'');return _0x21daeb+_0x4693eb(0x2cd)+_0x1e0bec+_0x4693eb(0x1ad)+_0x4d8386[_0x4693eb(0x1bd)](/^\.*/,'')[_0x4693eb(0x1bd)](/^\//,'')[_0x4693eb(0x1bd)](/\/$/,'');}function parseWaterParameters(_0x383e44,_0x5e1646){const _0x1a10b1=_0x555439;let _0x5ded2a=_0x5e1646[_0x1a10b1(0x26d)];if(!_0x5ded2a||!_0x5ded2a['attachFiles'])return;let _0x34b929=_0x5ded2a[_0x1a10b1(0x25a)],_0x7fce0=[],_0x4a0f98=_0x383e44[_0x1a10b1(0x268)],_0x206845=![];for(let _0x49ec07=0x0,_0x38e379=_0x34b929[_0x1a10b1(0x26c)];_0x49ec07<_0x38e379;_0x49ec07++){let _0x66175=_0x34b929[_0x49ec07][_0x1a10b1(0x24a)];if(_0x66175[_0x1a10b1(0x279)](_0x1a10b1(0x30a))>0x0){let _0x42ada3=getUrl(_0x66175,_0x383e44),_0x3f8c8d=_0x383e44[_0x1a10b1(0x256)]['getDerivedResource']({'url':_0x42ada3});_0x7fce0[_0x1a10b1(0x239)](_0x3f8c8d[_0x1a10b1(0x237)]()),_0x206845=!![];}}if(!_0x7fce0['length'])return;Cesium[_0x1a10b1(0x22d)]['all'](_0x7fce0,_0x485b9f=>{const _0x38c8da=_0x1a10b1;let _0x4db658=[];for(let _0x3880d3=0x0,_0x503867=_0x485b9f[_0x38c8da(0x26c)];_0x3880d3<_0x503867;_0x3880d3++){let _0x2377f4=_0x485b9f[_0x3880d3];if(!_0x2377f4)break;let _0x55a5fc=getWaterEffect(_0x2377f4);_0x4db658[_0x38c8da(0x239)](_0x55a5fc);}_0x383e44['_waterPlanes']=new Cesium[(_0x38c8da(0x235))](),_0x383e44['_waterParameters']={};let _0x279165=_0x4db658[0x0];_0x383e44[_0x38c8da(0x210)][_0x38c8da(0x258)]=_0x279165[_0x38c8da(0x258)];for(let _0x5c41a4=0x0;_0x5c41a4<_0x279165['gpuProgramParameters'][_0x38c8da(0x26c)];_0x5c41a4++){let _0x49d818=_0x279165['gpuProgramParameters'][_0x5c41a4];for(let _0xefbb82=0x0;_0xefbb82<_0x49d818['atuoConstants'][_0x38c8da(0x26c)];_0xefbb82++){let _0x4c5fdb=_0x49d818[_0x38c8da(0x1e9)][_0xefbb82];if(_0x4c5fdb[_0x38c8da(0x245)]==='timeVal'){_0x383e44[_0x38c8da(0x210)][_0x4c5fdb[_0x38c8da(0x245)]]=_0x4c5fdb[_0x38c8da(0x2c8)];break;}}for(let _0x25b875=0x0;_0x25b875<_0x49d818['gpuConstants']['length'];_0x25b875++){let _0x300291=_0x49d818[_0x38c8da(0x1f3)][_0x25b875],_0x5cfb95=null;switch(_0x300291[_0x38c8da(0x23c)]){case 0x1:_0x5cfb95=_0x300291[_0x38c8da(0x24c)][0x0];break;case 0x2:_0x5cfb95=new Cesium[(_0x38c8da(0x1ee))](),Cesium[_0x38c8da(0x1ee)][_0x38c8da(0x1fa)](_0x300291[_0x38c8da(0x24c)],0x0,_0x5cfb95);break;case 0x3:_0x5cfb95=new Cesium['Cartesian3'](),Cesium[_0x38c8da(0x1e1)]['unpack'](_0x300291[_0x38c8da(0x24c)],0x0,_0x5cfb95);break;case 0x4:_0x5cfb95=new Cesium['Cartesian4'](),Cesium[_0x38c8da(0x201)][_0x38c8da(0x1fa)](_0x300291[_0x38c8da(0x24c)],0x0,_0x5cfb95);break;default:break;}if(!_0x5cfb95)continue;_0x383e44[_0x38c8da(0x210)][_0x300291[_0x38c8da(0x245)]]=_0x5cfb95;}}_0x383e44['fileType']+=_0x38c8da(0x1de);});}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x21b)]=function(_0x3e01f6){const _0x56afb7=_0x555439;let _0x197548=this;Cesium[_0x56afb7(0x22d)](_0x3e01f6)[_0x56afb7(0x231)](function(_0x3fad3c){const _0x192a66=_0x56afb7;let _0x13ba00,_0x3c8acb=Cesium['Resource'][_0x192a66(0x2e0)](_0x3fad3c);_0x13ba00=_0x3c8acb[_0x192a66(0x2b7)](!![]),_0x197548[_0x192a66(0x2c7)]=_0x3c8acb['url'],_0x197548[_0x192a66(0x268)]=_0x13ba00,_0x197548[_0x192a66(0x256)]=_0x3c8acb;if(_0x197548[_0x192a66(0x24b)]||_0x197548[_0x192a66(0x220)])return _0x3c8acb[_0x192a66(0x2b8)]();return _0x3c8acb[_0x192a66(0x237)]();})[_0x56afb7(0x231)](function(_0x5bc9a4){const _0x121c2f=_0x56afb7;if(_0x197548['_isS3MB']||_0x197548[_0x121c2f(0x220)]){let _0x202635=_0x5bc9a4['extensions'];_0x197548[_0x121c2f(0x299)]=_0x202635[_0x121c2f(0x2a4)];let _0x55cb14=_0x5bc9a4[_0x121c2f(0x2d6)]['x'],_0x4a393c=_0x5bc9a4[_0x121c2f(0x2d6)]['y'],_0x2a9db6=_0x5bc9a4['position']['z'],_0x13a61b=_0x5bc9a4[_0x121c2f(0x2d6)]['units'];if(_0x197548['_sceneMode']===Cesium[_0x121c2f(0x1b7)]['SCENE3D'])_0x197548[_0x121c2f(0x2d1)]=Cesium[_0x121c2f(0x1e1)]['fromDegrees'](_0x55cb14,_0x4a393c,_0x2a9db6),_0x197548[_0x121c2f(0x1e0)]=Cesium[_0x121c2f(0x202)][_0x121c2f(0x1ed)](_0x197548[_0x121c2f(0x2d1)]),_0x197548[_0x121c2f(0x1b1)]=Cesium[_0x121c2f(0x31b)][_0x121c2f(0x291)](_0x197548[_0x121c2f(0x1e0)],_0x197548[_0x121c2f(0x1b1)]);else{if(_0x55cb14>0xb4||_0x55cb14<-0xb4||_0x4a393c>0xb4||_0x4a393c<-0xb4||_0x13a61b===_0x121c2f(0x285)){let _0x1bf57f=_0x55cb14,_0x24321e=_0x4a393c;_0x197548[_0x121c2f(0x2d1)]=new Cesium[(_0x121c2f(0x1e1))](_0x1bf57f,_0x24321e,_0x2a9db6);}else{let _0x3dbfa4=new Cesium['GeographicProjection'](),_0x3d10ec=Cesium['Cartesian3'][_0x121c2f(0x280)](_0x55cb14,_0x4a393c,_0x2a9db6),_0x548f4d=_0x3dbfa4['ellipsoid']['cartesianToCartographic'](_0x3d10ec);_0x197548[_0x121c2f(0x2d1)]=_0x3dbfa4[_0x121c2f(0x243)](_0x548f4d);}Cesium[_0x121c2f(0x31b)][_0x121c2f(0x272)](_0x197548[_0x121c2f(0x2d1)],_0x197548['modelMatrix']),Cesium[_0x121c2f(0x31b)][_0x121c2f(0x23f)](transform_2d,_0x197548['modelMatrix'],_0x197548[_0x121c2f(0x1e0)]),_0x197548[_0x121c2f(0x1b1)]=Cesium[_0x121c2f(0x31b)][_0x121c2f(0x291)](_0x197548[_0x121c2f(0x1e0)],_0x197548['invModelMatrix']);}if(Cesium[_0x121c2f(0x2ff)](_0x5bc9a4['geoBounds'])){let _0x3543d2=_0x5bc9a4['geoBounds'][_0x121c2f(0x296)],_0x4277d6=_0x5bc9a4[_0x121c2f(0x2c2)]['top'],_0xbbdcee=_0x5bc9a4[_0x121c2f(0x2c2)][_0x121c2f(0x2f2)],_0x5b1279=_0x5bc9a4[_0x121c2f(0x2c2)][_0x121c2f(0x31e)];_0x3543d2>0xb4||_0x5b1279>0xb4||_0xbbdcee>0xb4||_0x4277d6>0xb4?(_0x3543d2/=0x615299,_0x5b1279/=0x615299,_0xbbdcee/=0x615299,_0x4277d6/=0x615299,_0x197548[_0x121c2f(0x2d0)]=new Cesium['Rectangle'](_0x3543d2,_0x5b1279,_0xbbdcee,_0x4277d6)):_0x197548['_rectangle']=Cesium[_0x121c2f(0x2cb)][_0x121c2f(0x280)](_0x3543d2,_0x5b1279,_0xbbdcee,_0x4277d6);}_0x5bc9a4[_0x121c2f(0x244)]&&(_0x197548[_0x121c2f(0x2be)]=_0x5bc9a4[_0x121c2f(0x244)][_0x121c2f(0x27b)],_0x197548[_0x121c2f(0x310)]=_0x5bc9a4[_0x121c2f(0x244)][_0x121c2f(0x226)]);if(_0x5bc9a4['wDescript']){let _0xb0929e=_0x5bc9a4[_0x121c2f(0x327)]['range'];_0x197548[_0x121c2f(0x2cc)]=_0xb0929e['min'],_0x197548['_maxWValue']=_0xb0929e[_0x121c2f(0x226)];}_0x202635[_0x121c2f(0x1b3)]('s3m:TransparencyOptimization')&&(_0x197548['_isTransparencyOptimization']=_0x202635[_0x121c2f(0x298)]===_0x121c2f(0x2d8));if(_0x5bc9a4[_0x121c2f(0x292)][_0x121c2f(0x26c)]>0x0){let _0x29eed9=Cesium[_0x121c2f(0x1b6)](_0x5bc9a4[_0x121c2f(0x292)][0x0][_0x121c2f(0x1f2)]);_0x29eed9===_0x121c2f(0x2f5)&&(_0x197548[_0x121c2f(0x220)]=!![]);}for(let _0x5cec0c=0x0,_0x1c055c=_0x5bc9a4[_0x121c2f(0x292)][_0x121c2f(0x26c)];_0x5cec0c<_0x1c055c;_0x5cec0c++){let _0x518f4e=_0x5bc9a4[_0x121c2f(0x292)][_0x5cec0c][_0x121c2f(0x1f2)],_0x1d092c={'box':_0x5bc9a4[_0x121c2f(0x292)][_0x5cec0c]['boundingbox']},_0x19b1ec=new _0x406cb4(_0x197548,undefined,_0x1d092c,_0x518f4e);_0x19b1ec['isRootTile']=!![],_0x19b1ec['blockKey']=_0x518f4e,_0x197548[_0x121c2f(0x2ed)]['add'](_0x19b1ec),_0x197548[_0x121c2f(0x309)][_0x121c2f(0x239)](_0x19b1ec);}parseWaterParameters(_0x197548,_0x5bc9a4);}else{let _0x2b07a0=_0x5bc9a4[_0x121c2f(0x312)],_0x2a56aa=_0x2b07a0[_0x121c2f(0x263)];_0x197548[_0x121c2f(0x299)]=_0x1d30df[_0x121c2f(0x1bc)](_0x2b07a0,_0x121c2f(0x251),_0x2a56aa);let _0x2f03b1=_0x1d30df['queryFirstNode'](_0x2b07a0,_0x121c2f(0x219),_0x2a56aa),_0x11a2a6=_0x1d30df[_0x121c2f(0x1c7)](_0x2f03b1,'X',_0x2a56aa),_0x13990e=_0x1d30df[_0x121c2f(0x1c7)](_0x2f03b1,'Y',_0x2a56aa),_0x3171e9=_0x1d30df[_0x121c2f(0x1c7)](_0x2f03b1,'Z',_0x2a56aa);_0x197548[_0x121c2f(0x2d1)]=Cesium['Cartesian3']['fromDegrees'](_0x11a2a6,_0x13990e,_0x3171e9),_0x197548['modelMatrix']=Cesium[_0x121c2f(0x202)]['eastNorthUpToFixedFrame'](_0x197548[_0x121c2f(0x2d1)]),_0x197548[_0x121c2f(0x1b1)]=Cesium[_0x121c2f(0x31b)][_0x121c2f(0x291)](_0x197548[_0x121c2f(0x1e0)],_0x197548['invModelMatrix']);let _0x15fab6=_0x1d30df['queryFirstNode'](_0x2b07a0,_0x121c2f(0x30e),_0x2a56aa),_0x1b0680=_0x1d30df[_0x121c2f(0x322)](_0x2b07a0,_0x121c2f(0x223),_0x2a56aa);if(_0x15fab6){let _0x5f0236=_0x1d30df['queryNumericValue'](_0x15fab6,'Left',_0x2a56aa),_0x2d62ef=_0x1d30df['queryNumericValue'](_0x15fab6,'Top',_0x2a56aa),_0x5d4098=_0x1d30df[_0x121c2f(0x1c7)](_0x15fab6,_0x121c2f(0x284),_0x2a56aa),_0xca150f=_0x1d30df['queryNumericValue'](_0x15fab6,'Bottom',_0x2a56aa);_0x197548[_0x121c2f(0x2d0)]=Cesium[_0x121c2f(0x2cb)][_0x121c2f(0x280)](_0x5f0236,_0xca150f,_0x5d4098,_0x2d62ef);}else{if(_0x1b0680){let _0x593bcd=_0x1d30df[_0x121c2f(0x1c7)](_0x1b0680,_0x121c2f(0x328),_0x2a56aa),_0x501347=_0x1d30df['queryNumericValue'](_0x1b0680,_0x121c2f(0x25f),_0x2a56aa),_0x574778=_0x1d30df[_0x121c2f(0x1c7)](_0x1b0680,_0x121c2f(0x2ec),_0x2a56aa),_0x1388b9=_0x1d30df[_0x121c2f(0x1c7)](_0x1b0680,'MaxX',_0x2a56aa),_0x3b591a=_0x1d30df[_0x121c2f(0x1c7)](_0x1b0680,_0x121c2f(0x1e3),_0x2a56aa),_0x14c7e9=_0x1d30df[_0x121c2f(0x1c7)](_0x1b0680,'MaxZ',_0x2a56aa);_0x593bcd=0xb4*Math[_0x121c2f(0x317)](_0x593bcd)/(Math['PI']*0x615299),_0x501347=0xb4*Math[_0x121c2f(0x317)](_0x501347)/(Math['PI']*0x615299),_0x1388b9=0xb4*Math[_0x121c2f(0x317)](_0x1388b9)/(Math['PI']*0x615299),_0x3b591a=0xb4*Math['abs'](_0x3b591a)/(Math['PI']*0x615299),_0x197548['_rectangle']=Cesium[_0x121c2f(0x2cb)]['fromDegrees'](_0x11a2a6-_0x593bcd,_0x13990e-_0x501347,_0x11a2a6+_0x1388b9,_0x13990e+_0x3b591a);}}let _0x33ccbc=_0x1d30df['queryFirstNode'](_0x2b07a0,_0x121c2f(0x221),_0x2a56aa);_0x33ccbc&&(_0x197548[_0x121c2f(0x2be)]=_0x1d30df['queryNumericValue'](_0x33ccbc,'MinHeight',_0x2a56aa),_0x197548['_maxHeight']=_0x1d30df[_0x121c2f(0x1c7)](_0x33ccbc,_0x121c2f(0x1bf),_0x2a56aa));let _0x376904=_0x1d30df[_0x121c2f(0x322)](_0x2b07a0,_0x121c2f(0x241),_0x2a56aa);_0x376904&&(_0x197548['_maxWValue']=_0x1d30df['queryNumericValue'](_0x376904,_0x121c2f(0x2e9),_0x2a56aa),_0x197548[_0x121c2f(0x2cc)]=_0x1d30df[_0x121c2f(0x1c7)](_0x376904,'MinCategory',_0x2a56aa));let _0x17e190=_0x1d30df[_0x121c2f(0x322)](_0x2b07a0,'Extensions',_0x2a56aa);_0x197548[_0x121c2f(0x21e)]=_0x1d30df[_0x121c2f(0x1c5)](_0x17e190,_0x121c2f(0x1d4),_0x2a56aa);let _0x5a4809=/\\+/g,_0x136e0e=_0x1d30df[_0x121c2f(0x322)](_0x2b07a0,_0x121c2f(0x1d9),_0x2a56aa),_0x2e3da3=_0x1d30df['queryNodes'](_0x136e0e,_0x121c2f(0x1cc),_0x2a56aa);if(_0x2e3da3[_0x121c2f(0x26c)]>0x0)for(let _0x3378a9=0x0,_0x44d9a1=_0x2e3da3['length'];_0x3378a9<_0x44d9a1;_0x3378a9++){let _0x12c7ac=_0x2e3da3[_0x3378a9],_0x17b2cb=_0x1d30df[_0x121c2f(0x1bc)](_0x12c7ac,_0x121c2f(0x216),_0x2a56aa);_0x17b2cb=_0x17b2cb['replace'](_0x5a4809,'/'),_0x17b2cb=_0x17b2cb['replace'](/(\.osgb)/gi,'.s3m');let _0x37e707=_0x1d30df['queryFirstNode'](_0x12c7ac,'BoundingSphere',_0x2a56aa),_0x2a53f1={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}};if(_0x37e707&&_0x37e707[_0x121c2f(0x30c)][_0x121c2f(0x26c)]){let _0x11736a=_0x1d30df[_0x121c2f(0x1c7)](_0x37e707,_0x121c2f(0x2c4),_0x2a56aa),_0x1b7ee2=_0x1d30df[_0x121c2f(0x1c7)](_0x37e707,'CenterY',_0x2a56aa),_0x22c1ef=_0x1d30df[_0x121c2f(0x1c7)](_0x37e707,_0x121c2f(0x314),_0x2a56aa),_0x28b18c=_0x1d30df[_0x121c2f(0x1c7)](_0x37e707,_0x121c2f(0x2e3),_0x2a56aa);_0x2a53f1={'sphere':{'center':{'x':_0x11736a,'y':_0x1b7ee2,'z':_0x22c1ef},'radius':_0x28b18c}};}let _0x230f45=new _0x406cb4(_0x197548,undefined,_0x2a53f1,_0x17b2cb);_0x230f45[_0x121c2f(0x2fb)]=!![],_0x197548['_cache'][_0x121c2f(0x21a)](_0x230f45),_0x197548[_0x121c2f(0x309)][_0x121c2f(0x239)](_0x230f45);}else{let _0x2c1cfe=_0x1d30df[_0x121c2f(0x1d1)](_0x136e0e,'FileName',_0x2a56aa);for(let _0x3700f5=0x0,_0x2fad8e=_0x2c1cfe[_0x121c2f(0x26c)];_0x3700f5<_0x2fad8e;_0x3700f5++){let _0x568747=_0x2c1cfe[_0x3700f5][_0x121c2f(0x270)];_0x568747=_0x568747[_0x121c2f(0x1bd)](_0x5a4809,'/'),_0x568747=_0x568747[_0x121c2f(0x1bd)](/(\.osgb)/gi,_0x121c2f(0x26b));let _0x1b1c25={'sphere':{'center':{'x':0x0,'y':0x0,'z':0x0},'radius':0x615299}},_0x51de4f=new _0x406cb4(_0x197548,undefined,_0x1b1c25,_0x568747);_0x51de4f[_0x121c2f(0x2fb)]=!![],_0x197548[_0x121c2f(0x2ed)][_0x121c2f(0x21a)](_0x51de4f),_0x197548[_0x121c2f(0x309)]['push'](_0x51de4f);}}}_0x197548[_0x121c2f(0x1ea)][_0x121c2f(0x2d3)](_0x197548);})[_0x56afb7(0x1b4)](function(_0x1ed4b4){const _0xe81aac=_0x56afb7;_0x197548[_0xe81aac(0x1ea)][_0xe81aac(0x1eb)](_0x1ed4b4);});};function sortRequestByPriority(_0x13a608,_0x35a49a){const _0x100690=_0x555439;return _0x13a608[_0x100690(0x253)]-_0x35a49a['priority'];}function requestTiles(_0x22ea07){const _0xed2e1e=_0x555439;let _0x12915f=_0x22ea07[_0xed2e1e(0x261)],_0x336b4f=_0x12915f[_0xed2e1e(0x26c)];_0x12915f[_0xed2e1e(0x264)](sortRequestByPriority);for(let _0x200685=0x0;_0x200685<_0x336b4f;++_0x200685){let _0x2eadf0=_0x12915f[_0x200685];_0x2eadf0[_0xed2e1e(0x227)]();}}function processTiles(_0x2fd23b,_0x2af9d0){const _0xd8f266=_0x555439;let _0x3c1ec8=_0x2fd23b[_0xd8f266(0x28b)],_0xc8d816=_0x3c1ec8[_0xd8f266(0x26c)];for(let _0x2ec9a7=0x0;_0x2ec9a7<_0xc8d816;++_0x2ec9a7){let _0x22bb99=_0x3c1ec8[_0x2ec9a7];_0x22bb99[_0xd8f266(0x2a9)](_0x2af9d0,_0x2fd23b);}}function updateTiles(_0x5ba1fb,_0x497543){const _0x34743c=_0x555439;let _0x445241=_0x5ba1fb[_0x34743c(0x295)],_0x259393=_0x445241[_0x34743c(0x26c)];for(let _0x23b3cd=0x0;_0x23b3cd<_0x259393;_0x23b3cd++){_0x445241[_0x23b3cd]['update'](_0x497543,_0x5ba1fb);}}function unloadTile(_0x5cfaeb,_0x22301b){const _0x105c31=_0x555439;_0x22301b[_0x105c31(0x2bb)]();}function freeResource(_0x4cf61a){const _0x5d5c33=_0x555439;_0x4cf61a[_0x5d5c33(0x220)]?_0x4cf61a[_0x5d5c33(0x2ed)][_0x5d5c33(0x29a)](_0x4cf61a,unloadTile):_0x4cf61a['_cache']['unloadTiles'](_0x4cf61a,unloadTile);}S3MTilesLayer['prototype']['releaseSelection']=function(){const _0x4deb41=_0x555439;if(this['_selections'][_0x4deb41(0x26c)]<0x1)return;this[_0x4deb41(0x2b2)](this[_0x4deb41(0x2e4)],_0x43f97a[_0x4deb41(0x1ff)]),this[_0x4deb41(0x2e4)][_0x4deb41(0x26c)]=0x0;},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x2df)]=function(_0x119a33){const _0x5b3441=_0x555439;this[_0x5b3441(0x301)]=_0x119a33;},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x224)]=function(_0x1dd69f){const _0x3292fd=_0x555439;Cesium[_0x3292fd(0x282)]['defined'](_0x3292fd(0x25e),_0x1dd69f);if(!this[_0x3292fd(0x326)])return;!Array[_0x3292fd(0x24e)](_0x1dd69f)&&(_0x1dd69f=[_0x1dd69f]),!this[_0x3292fd(0x242)]&&this[_0x3292fd(0x2e6)](),this[_0x3292fd(0x2e4)]=this[_0x3292fd(0x2e4)][_0x3292fd(0x203)](_0x1dd69f),this[_0x3292fd(0x293)](_0x1dd69f,_0x43f97a[_0x3292fd(0x1ff)]);},S3MTilesLayer[_0x555439(0x300)]['getSelection']=function(){const _0x2fc930=_0x555439;return[][_0x2fc930(0x203)](this['_selections']);},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x1f6)]=function(_0x5143f8,_0x3d6efe){const _0x5bd913=_0x555439;Cesium['Check'][_0x5bd913(0x2ff)](_0x5bd913(0x2eb),_0x5143f8),Cesium[_0x5bd913(0x282)]['defined'](_0x5bd913(0x2dc),_0x3d6efe),Cesium[_0x5bd913(0x282)][_0x5bd913(0x27c)][_0x5bd913(0x2e2)]('setObjsColor\x20color',_0x3d6efe);!Array['isArray'](_0x5143f8)&&(_0x5143f8=[_0x5143f8]);let _0x222cc7={};for(let _0x18dfca=0x0,_0x302de1=_0x5143f8[_0x5bd913(0x26c)];_0x18dfca<_0x302de1;_0x18dfca++){let _0x2ac0d1=_0x5143f8[_0x18dfca]+'';if(!Cesium[_0x5bd913(0x2ff)](_0x2ac0d1))continue;this[_0x5bd913(0x24f)][_0x2ac0d1]=_0x3d6efe,_0x222cc7[_0x2ac0d1]=_0x3d6efe;}this[_0x5bd913(0x1f9)](_0x222cc7);},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x206)]=function(_0x1389d2){const _0x14003e=_0x555439;Cesium[_0x14003e(0x282)]['defined'](_0x14003e(0x1fc),_0x1389d2);!Array[_0x14003e(0x24e)](_0x1389d2)&&(_0x1389d2=[_0x1389d2]);let _0x341855={};for(let _0x421093=0x0,_0x1c551f=_0x1389d2['length'];_0x421093<_0x1c551f;_0x421093++){let _0xfa8c83=_0x1389d2[_0x421093];Cesium[_0x14003e(0x2ff)](this[_0x14003e(0x24f)][_0xfa8c83])&&(_0x341855[_0xfa8c83]=Cesium['Color'][_0x14003e(0x1cb)],delete this[_0x14003e(0x24f)][_0xfa8c83]);}this[_0x14003e(0x2b2)](_0x1389d2,_0x43f97a[_0x14003e(0x255)]),this[_0x14003e(0x1f9)](_0x341855);},S3MTilesLayer[_0x555439(0x300)]['setOnlyObjsVisible']=function(_0x146ac3,_0x1be09c){const _0x3e1e56=_0x555439;Cesium[_0x3e1e56(0x282)][_0x3e1e56(0x2ff)](_0x3e1e56(0x294),_0x146ac3),Cesium[_0x3e1e56(0x282)][_0x3e1e56(0x27c)][_0x3e1e56(0x2ea)](_0x3e1e56(0x31a),_0x1be09c);!Array[_0x3e1e56(0x24e)](_0x146ac3)&&(_0x146ac3=[_0x146ac3]);if(_0x146ac3[_0x3e1e56(0x26c)]===0x0){this[_0x3e1e56(0x1d7)]=_0x1be09c,this[_0x3e1e56(0x260)]['removeAll']();let _0x29d71d=Object[_0x3e1e56(0x225)](this[_0x3e1e56(0x1dd)]['_hash']);this[_0x3e1e56(0x2b2)](_0x29d71d,_0x43f97a[_0x3e1e56(0x20d)]),this[_0x3e1e56(0x1dd)]['removeAll'](),this[_0x3e1e56(0x274)](!_0x1be09c);return;}let _0xe71647=this[_0x3e1e56(0x260)],_0x5e36ee=this['_objsHideList'],_0x5425c3=this[_0x3e1e56(0x1ef)];!_0x1be09c?(_0x146ac3[_0x3e1e56(0x27f)](function(_0x18a028){const _0x1f682f=_0x3e1e56;_0xe71647[_0x1f682f(0x289)](_0x18a028),_0x5e36ee[_0x1f682f(0x2e7)](_0x18a028,!![]);}),this[_0x3e1e56(0x293)](_0x146ac3,_0x43f97a[_0x3e1e56(0x20d)])):(_0x146ac3[_0x3e1e56(0x27f)](function(_0x1e5417){const _0xfe045a=_0x3e1e56;_0xe71647[_0xfe045a(0x2e7)](_0x1e5417,!![]),_0x5e36ee[_0xfe045a(0x289)](_0x1e5417);}),this[_0x3e1e56(0x2b2)](_0x146ac3,_0x43f97a['HIDE']));},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x1cd)]=function(_0x373400,_0x23201f){const _0x42bc06=_0x555439;if(_0x373400[_0x42bc06(0x26c)]===0x0){this[_0x42bc06(0x23b)]([],_0x23201f);return;}this[_0x42bc06(0x23b)]([],_0x23201f),this[_0x42bc06(0x23b)](_0x373400,_0x23201f);};function createPlane(_0x560c41,_0x166fcc,_0x1c144f){const _0x377518=_0x555439;let _0x46be0=new Cesium[(_0x377518(0x1e1))](),_0x5b705c=new Cesium[(_0x377518(0x1e1))]();Cesium[_0x377518(0x1e1)][_0x377518(0x1e5)](_0x166fcc,_0x560c41,_0x46be0),Cesium['Cartesian3'][_0x377518(0x1e5)](_0x1c144f,_0x560c41,_0x5b705c);let _0x54cb87=new Cesium['Cartesian3']();Cesium[_0x377518(0x1e1)]['cross'](_0x46be0,_0x5b705c,_0x54cb87),Cesium[_0x377518(0x1e1)][_0x377518(0x27a)](_0x54cb87,_0x54cb87);let _0x22c2a2=-Cesium[_0x377518(0x1e1)][_0x377518(0x26f)](_0x54cb87,_0x560c41);return new Cesium[(_0x377518(0x201))](_0x54cb87['x'],_0x54cb87['y'],_0x54cb87['z'],_0x22c2a2);}function clipCallback(_0x23acaa,_0x3daacd){const _0x527af2=_0x555439;_0x23acaa[_0x527af2(0x246)](_0x3daacd);}S3MTilesLayer['prototype'][_0x555439(0x252)]=function(_0x1e54a1,_0x3f449a,_0x26c1d4,_0x4eff6f){const _0x228b93=_0x555439;this[_0x228b93(0x28e)]===Cesium[_0x228b93(0x1b7)][_0x228b93(0x20a)]&&(_0x1e54a1=convertToColumbusViewCartesian(_0x1e54a1),_0x3f449a=convertToColumbusViewCartesian(_0x3f449a),_0x26c1d4=convertToColumbusViewCartesian(_0x26c1d4)),this['_oriClipPlane'][0x0]=createPlane(_0x1e54a1,_0x3f449a,_0x26c1d4),this[_0x228b93(0x26e)]=_0x4423b0[_0x228b93(0x248)],this[_0x228b93(0x2f7)]=!![],!this[_0x228b93(0x2c0)]&&this[_0x228b93(0x27d)]({'enable':!![]},clipCallback),this[_0x228b93(0x2c0)]=!![];},S3MTilesLayer['prototype'][_0x555439(0x21f)]=function(_0x1408d1){const _0x511748=_0x555439;_0x1408d1=_0x1408d1||{};if((!_0x1408d1[_0x511748(0x1d6)]||!_0x1408d1[_0x511748(0x2d6)])&&(!_0x1408d1[_0x511748(0x1b9)]||!_0x1408d1[_0x511748(0x262)]))throw new Cesium[(_0x511748(0x1f1))](_0x511748(0x2a8));this[_0x511748(0x26e)]=_0x4423b0[_0x511748(0x248)];if(Cesium[_0x511748(0x2ff)](_0x1408d1[_0x511748(0x29f)]))switch(_0x1408d1[_0x511748(0x29f)]){case _0x511748(0x2ab):this[_0x511748(0x26e)]=_0x4423b0[_0x511748(0x1c3)];break;case'clip_behind_all_plane':this[_0x511748(0x26e)]=_0x4423b0[_0x511748(0x248)];break;case _0x511748(0x2f9):this['_clipMode']=_0x4423b0[_0x511748(0x236)];break;default:break;}if(_0x1408d1['dimensions']){let _0x6234b2=new Cesium['Matrix4'](),_0x53a0d1=_0x1408d1[_0x511748(0x2d6)],_0x4f542c,_0x314023,_0x4e4cd4;_0x4f542c=_0x1408d1[_0x511748(0x2f0)]||0x0,_0x314023=_0x1408d1[_0x511748(0x2a3)]||0x0,_0x4e4cd4=_0x1408d1['roll']||0x0;let _0x1ec1e1=new Cesium[(_0x511748(0x28f))](_0x4f542c,_0x314023,_0x4e4cd4);if(this[_0x511748(0x28e)]===Cesium[_0x511748(0x1b7)][_0x511748(0x313)])_0x6234b2=Cesium[_0x511748(0x202)][_0x511748(0x31c)](_0x53a0d1,_0x1ec1e1,Cesium[_0x511748(0x215)][_0x511748(0x2c1)]);else{_0x1ec1e1=new Cesium[(_0x511748(0x28f))](_0x314023,-_0x4e4cd4,-_0x4f542c);let _0x176ae5=convertToColumbusViewCartesian(_0x53a0d1);Cesium['Matrix4']['setTranslation'](Cesium[_0x511748(0x31b)]['clone'](Cesium[_0x511748(0x31b)][_0x511748(0x2d9)]),_0x176ae5,_0x6234b2);let _0x209ff0=Cesium[_0x511748(0x247)]['fromHeadingPitchRoll'](_0x1ec1e1);Cesium[_0x511748(0x31b)][_0x511748(0x200)](_0x6234b2,_0x209ff0,_0x6234b2);}let _0x102d51,_0xdefe14,_0x54f6bb;this['_sceneMode']===Cesium[_0x511748(0x1b7)][_0x511748(0x313)]?(_0x102d51=_0x1408d1['dimensions']['x']*0.5,_0xdefe14=_0x1408d1[_0x511748(0x1d6)]['y']*0.5,_0x54f6bb=_0x1408d1[_0x511748(0x1d6)]['z']*0.5):(_0x102d51=_0x1408d1[_0x511748(0x1d6)]['z']*0.5,_0xdefe14=_0x1408d1[_0x511748(0x1d6)]['x']*0.5,_0x54f6bb=_0x1408d1[_0x511748(0x1d6)]['y']*0.5);let _0x278c33=[];_0x278c33[0x0]=new Cesium[(_0x511748(0x201))](-_0x102d51,_0xdefe14,_0x54f6bb,0x1),_0x278c33[0x1]=new Cesium[(_0x511748(0x201))](_0x102d51,_0xdefe14,_0x54f6bb,0x1),_0x278c33[0x2]=new Cesium['Cartesian4'](_0x102d51,-_0xdefe14,_0x54f6bb,0x1),_0x278c33[0x3]=new Cesium[(_0x511748(0x201))](-_0x102d51,-_0xdefe14,_0x54f6bb,0x1),_0x278c33[0x4]=new Cesium['Cartesian4'](-_0x102d51,_0xdefe14,-_0x54f6bb,0x1),_0x278c33[0x5]=new Cesium[(_0x511748(0x201))](_0x102d51,_0xdefe14,-_0x54f6bb,0x1),_0x278c33[0x6]=new Cesium['Cartesian4'](_0x102d51,-_0xdefe14,-_0x54f6bb,0x1),_0x278c33[0x7]=new Cesium[(_0x511748(0x201))](-_0x102d51,-_0xdefe14,-_0x54f6bb,0x1);for(let _0x5b0611=0x0;_0x5b0611<0x8;_0x5b0611++){Cesium['Matrix4'][_0x511748(0x2d7)](_0x6234b2,_0x278c33[_0x5b0611],_0x278c33[_0x5b0611]);}this[_0x511748(0x1fd)][0x0]=Cesium[_0x511748(0x201)][_0x511748(0x207)](createPlane(_0x278c33[0x0],_0x278c33[0x1],_0x278c33[0x2])),this[_0x511748(0x1fd)][0x1]=Cesium[_0x511748(0x201)][_0x511748(0x207)](createPlane(_0x278c33[0x0],_0x278c33[0x4],_0x278c33[0x1])),this[_0x511748(0x1fd)][0x2]=Cesium[_0x511748(0x201)][_0x511748(0x207)](createPlane(_0x278c33[0x0],_0x278c33[0x3],_0x278c33[0x4])),this[_0x511748(0x1fd)][0x3]=Cesium[_0x511748(0x201)]['clone'](createPlane(_0x278c33[0x6],_0x278c33[0x2],_0x278c33[0x5])),this[_0x511748(0x1fd)][0x4]=Cesium['Cartesian4'][_0x511748(0x207)](createPlane(_0x278c33[0x6],_0x278c33[0x7],_0x278c33[0x2])),this['_oriClipPlane'][0x5]=Cesium[_0x511748(0x201)][_0x511748(0x207)](createPlane(_0x278c33[0x6],_0x278c33[0x5],_0x278c33[0x7]));}else for(let _0x3ca839=0x0;_0x3ca839<_0x1408d1[_0x511748(0x1b9)][_0x511748(0x26c)];_0x3ca839++){let _0x153a54=_0x1408d1[_0x511748(0x1b9)][_0x3ca839],_0x2a513e=_0x1408d1['planeNormal'][_0x3ca839];this[_0x511748(0x1fd)][_0x3ca839]['x']=_0x2a513e['x'],this['_oriClipPlane'][_0x3ca839]['y']=_0x2a513e['y'],this[_0x511748(0x1fd)][_0x3ca839]['z']=_0x2a513e['z'],this['_oriClipPlane'][_0x3ca839]['w']=-Cesium[_0x511748(0x1e1)]['dot'](_0x153a54,_0x2a513e);}!this[_0x511748(0x2c0)]&&this[_0x511748(0x27d)]({'enable':!![]},clipCallback),this['_enableClip']=!![];};function convertToColumbusViewCartesian(_0x30b4de){const _0x5ad048=_0x555439;var _0x3d533c=new Cesium[(_0x5ad048(0x281))](),_0x56043c=_0x3d533c[_0x5ad048(0x214)],_0x31b111=new Cesium[(_0x5ad048(0x1e1))](),_0x5003dc=new Cesium[(_0x5ad048(0x1c8))]();return _0x56043c[_0x5ad048(0x23d)](_0x30b4de,_0x5003dc),_0x3d533c[_0x5ad048(0x243)](_0x5003dc,_0x31b111),Cesium[_0x5ad048(0x1e1)]['fromElements'](_0x31b111['z'],_0x31b111['x'],_0x31b111['y']);}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x22f)]=function(){const _0x514a18=_0x555439;this[_0x514a18(0x2c0)]=![],this['_enableClipPlane']=![],this['_tranverseRenderEntity']({'enable':![]},clipCallback);},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x27d)]=function(_0xbd8edb,_0x56a409){const _0x51e41c=_0x555439;let _0x25f740=[];for(let _0x5c50c5=0x0,_0x88cb19=this[_0x51e41c(0x309)][_0x51e41c(0x26c)];_0x5c50c5<_0x88cb19;_0x5c50c5++){let _0x2b5921=this[_0x51e41c(0x309)][_0x5c50c5];_0x25f740[_0x51e41c(0x239)](_0x2b5921);}while(_0x25f740[_0x51e41c(0x26c)]){let _0x33357f=_0x25f740[_0x51e41c(0x2b4)]();for(let _0x1e1906=0x0,_0x23ba91=_0x33357f[_0x51e41c(0x265)][_0x51e41c(0x26c)];_0x1e1906<_0x23ba91;_0x1e1906++){const _0x2b8d73=_0x33357f[_0x51e41c(0x265)][_0x1e1906];_0x2b8d73['ready']&&_0x56a409(_0x2b8d73,_0xbd8edb);}for(let _0x1495c6=0x0,_0x480c94=_0x33357f[_0x51e41c(0x318)][_0x51e41c(0x26c)];_0x1495c6<_0x480c94;_0x1495c6++){_0x25f740[_0x51e41c(0x239)](_0x33357f['children'][_0x1495c6]);}}};function updateObjsOperationCallback(_0x156625,_0x2bf9b5){const _0x2a3600=_0x555439;_0x156625[_0x2a3600(0x323)](_0x2bf9b5[_0x2a3600(0x1f4)],_0x2bf9b5);}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x2dd)]=function(_0x23b2be){const _0x3a8b84=_0x555439;this[_0x3a8b84(0x27d)]({'ids':_0x23b2be},updateObjsOperationCallback);};function updateObjsColorCallback(_0x5e329c,_0x24aef2){const _0x11fb80=_0x555439;_0x5e329c[_0x11fb80(0x306)](_0x24aef2[_0x11fb80(0x1f4)],_0x24aef2);}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x1f9)]=function(_0x2990f3){const _0x305adb=_0x555439;this[_0x305adb(0x27d)]({'ids':_0x2990f3},updateObjsColorCallback);};function updateAllObjsVisibleCallback(_0x3481ad,_0x41cdf9){const _0x307004=_0x555439;_0x3481ad[_0x307004(0x1dc)](_0x41cdf9['isVisible']);}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x274)]=function(_0x44c181){const _0x157b54=_0x555439;this[_0x157b54(0x27d)]({'isVisible':_0x44c181},updateAllObjsVisibleCallback);},S3MTilesLayer[_0x555439(0x300)]['_setObjsOperationType']=function(_0x224f91,_0x466f1f){const _0x30e33b=_0x555439;Cesium[_0x30e33b(0x282)][_0x30e33b(0x2ff)](_0x30e33b(0x2bf),_0x224f91),Cesium[_0x30e33b(0x282)]['defined']('set\x20Objs\x20Operation\x20operationType',_0x466f1f);!Array['isArray'](_0x224f91)&&(_0x224f91=[_0x224f91]);let _0x1606b5=new Cesium[(_0x30e33b(0x235))](),_0x15e66e;for(let _0xcc8fc8=0x0,_0x56a2d5=_0x224f91[_0x30e33b(0x26c)];_0xcc8fc8<_0x56a2d5;_0xcc8fc8++){_0x15e66e=_0x224f91[_0xcc8fc8];if(!Cesium[_0x30e33b(0x2ff)](_0x15e66e))continue;let _0x5e7ca2=Cesium['defaultValue'](this[_0x30e33b(0x222)]['get'](_0x15e66e),0x0);if(_0x5e7ca2===_0x466f1f)continue;_0x5e7ca2=_0x5e7ca2|_0x466f1f,this['_objsOperationList']['set'](_0x15e66e,_0x5e7ca2),_0x1606b5[_0x30e33b(0x2e7)](_0x15e66e,_0x5e7ca2);}_0x1606b5[_0x30e33b(0x26c)]>0x0&&this[_0x30e33b(0x2dd)](_0x1606b5);},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x2b2)]=function(_0x2298b0,_0x20697e){const _0x4ac6c7=_0x555439;Cesium[_0x4ac6c7(0x282)][_0x4ac6c7(0x2ff)](_0x4ac6c7(0x2bf),_0x2298b0);!Array[_0x4ac6c7(0x24e)](_0x2298b0)&&(_0x2298b0=[_0x2298b0]);let _0x20ba68=_0x43f97a[_0x4ac6c7(0x228)]^_0x20697e,_0x426e5f=new Cesium['AssociativeArray'](),_0x323dbd;for(let _0x3ba806=0x0,_0x2367ef=_0x2298b0[_0x4ac6c7(0x26c)];_0x3ba806<_0x2367ef;_0x3ba806++){_0x323dbd=_0x2298b0[_0x3ba806];let _0x4410bb=this['_objsOperationList'][_0x4ac6c7(0x1d0)](_0x323dbd);if(!Cesium[_0x4ac6c7(0x2ff)](_0x4410bb))continue;_0x4410bb&=_0x20ba68,_0x4410bb===_0x43f97a[_0x4ac6c7(0x1e2)]?this[_0x4ac6c7(0x222)][_0x4ac6c7(0x289)](_0x323dbd):this[_0x4ac6c7(0x222)][_0x4ac6c7(0x2e7)](_0x323dbd,_0x4410bb),_0x426e5f[_0x4ac6c7(0x2e7)](_0x323dbd,_0x4410bb);}_0x426e5f[_0x4ac6c7(0x26c)]>0x0&&this[_0x4ac6c7(0x2dd)](_0x426e5f);},S3MTilesLayer['prototype'][_0x555439(0x2f6)]=function(_0x381e43){const _0x57586c=_0x555439;let _0x200a35=Cesium['Cartesian3'][_0x57586c(0x2af)](_0x381e43),_0x2dda9e=new Cesium[(_0x57586c(0x1e4))]({'polygonHierarchy':{'positions':_0x200a35},'perPositionHeight':!![]}),_0x20b0f8=Cesium[_0x57586c(0x1e4)]['createGeometry'](_0x2dda9e),_0x56adc0=new _0x76aa1();return _0x56adc0['updateGeometry'](_0x20b0f8,this['invModelMatrix']),_0x56adc0['updateGeoBounds'](_0x20b0f8),_0x56adc0;};function flattenCallback(_0x4c8256,_0x4dd69f){_0x4c8256['flatten'](_0x4dd69f);}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x321)]=function(_0x1f2fbc){const _0x1eb588=_0x555439;let _0x1bacdf=_0x1f2fbc['name'],_0x138c91=_0x1f2fbc[_0x1eb588(0x2d6)];if(!_0x1bacdf||!_0x138c91)return;let _0x504874=this[_0x1eb588(0x1b2)],_0x39a03d=_0x504874['regions'];if(_0x39a03d['contains'](_0x1bacdf))return;!_0x504874[_0x1eb588(0x1c1)]&&(_0x504874['texture']=new Cesium[(_0x1eb588(0x2fa))]({'context':this[_0x1eb588(0x21c)],'width':_0x504874[_0x1eb588(0x315)],'height':_0x504874[_0x1eb588(0x234)],'pixelFormat':Cesium['PixelFormat'][_0x1eb588(0x2b1)]}));let _0x3a84b9=this[_0x1eb588(0x2f6)](_0x138c91);_0x39a03d[_0x1eb588(0x2e7)](_0x1bacdf,_0x3a84b9),_0x504874[_0x1eb588(0x1d2)]=!![],_0x39a03d[_0x1eb588(0x2ef)]['length']===0x1&&this[_0x1eb588(0x27d)]({'enable':!![]},flattenCallback);};function hypsometricCallback(_0x5009fb,_0x329fd1){const _0x4fc287=_0x555439;_0x5009fb[_0x4fc287(0x259)](_0x329fd1);}function swipeCallback(_0x5aba2c,_0x1bbf72){const _0x270034=_0x555439;_0x5aba2c[_0x270034(0x22c)](_0x1bbf72);}function combineRegionBounds(_0x3cf2d6){const _0x1093bc=_0x555439;let _0x4a0b1e=new Cesium[(_0x1093bc(0x201))](Number[_0x1093bc(0x2f3)],Number[_0x1093bc(0x2f3)],-Number[_0x1093bc(0x2f3)],-Number['MAX_VALUE']);for(let _0x3e9019=0x0;_0x3e9019<_0x3cf2d6[_0x1093bc(0x26c)];_0x3e9019++){const _0x2bab91=_0x3cf2d6[_0x3e9019][_0x1093bc(0x20c)];_0x4a0b1e['x']=Math[_0x1093bc(0x27b)](_0x2bab91['x'],_0x4a0b1e['x']),_0x4a0b1e['y']=Math[_0x1093bc(0x27b)](_0x2bab91['y'],_0x4a0b1e['y']),_0x4a0b1e['z']=Math['max'](_0x2bab91['z'],_0x4a0b1e['z']),_0x4a0b1e['w']=Math[_0x1093bc(0x226)](_0x2bab91['w'],_0x4a0b1e['w']);}return _0x4a0b1e;}S3MTilesLayer[_0x555439(0x300)][_0x555439(0x2db)]=function(_0x2ff77d){const _0x3b5e33=_0x555439;let _0x1edabe=this[_0x3b5e33(0x1b2)];if(!_0x1edabe[_0x3b5e33(0x1d2)])return;_0x1edabe['isUpdate']=![];let _0x12f7d9=_0x1edabe['regions'],_0x2b6155=_0x12f7d9['values']['length'];_0x1edabe['flattening']=_0x2b6155>0x0,_0x1edabe[_0x3b5e33(0x20c)]=combineRegionBounds(_0x12f7d9[_0x3b5e33(0x2ef)]);let _0x25d4dd=new Cesium[(_0x3b5e33(0x233))]({'color':new Cesium[(_0x3b5e33(0x2fd))](0x1,0x1,0x1,0x1),'depth':0x1});!_0x1edabe[_0x3b5e33(0x1c1)]&&(_0x1edabe[_0x3b5e33(0x1c1)]=new Cesium['Texture']({'context':this['context'],'width':_0x1edabe[_0x3b5e33(0x315)],'height':_0x1edabe[_0x3b5e33(0x234)],'pixelFormat':Cesium[_0x3b5e33(0x230)]['RGBA']}));!_0x1edabe[_0x3b5e33(0x20e)]&&(_0x1edabe[_0x3b5e33(0x20e)]=new Cesium[(_0x3b5e33(0x2e5))]({'context':this[_0x3b5e33(0x21c)],'colorTextures':[_0x1edabe[_0x3b5e33(0x1c1)]],'destroyAttachments':![]}));_0x25d4dd['framebuffer']=_0x1edabe[_0x3b5e33(0x20e)],_0x25d4dd['renderState']=Cesium['RenderState']['fromCache'](),_0x25d4dd['execute'](this[_0x3b5e33(0x21c)]);for(let _0x299d1d=0x0;_0x299d1d<_0x2b6155;_0x299d1d++){let _0x1232a4=_0x12f7d9[_0x3b5e33(0x2ef)][_0x299d1d];_0x1232a4[_0x3b5e33(0x2ba)](this[_0x3b5e33(0x21c)],_0x1edabe[_0x3b5e33(0x20e)]),_0x1232a4['command']['uniformMap']={'uRect':function(){const _0x31a0ca=_0x3b5e33;return _0x1edabe[_0x31a0ca(0x20c)];}},_0x1232a4[_0x3b5e33(0x1d8)][_0x3b5e33(0x1cf)](this[_0x3b5e33(0x21c)]);}},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x2b9)]=function(_0x21a9d3,_0x56d2f3){const _0x3b49cf=_0x555439;if(_0x21a9d3>0x8)throw new Cesium[(_0x3b49cf(0x1f1))](_0x3b49cf(0x1f8));_0x56d2f3?this[_0x3b49cf(0x1c4)]=0x1<<_0x21a9d3|this['_visibleViewport']:this['_visibleViewport']=~(0x1<<_0x21a9d3)&this[_0x3b49cf(0x1c4)];},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x1ce)]=function(_0x46405c){const _0x43f497=_0x555439;if(_0x46405c>0x8)throw new Cesium[(_0x43f497(0x1f1))](_0x43f497(0x20b));return 0x1<<_0x46405c&this[_0x43f497(0x1c4)];},S3MTilesLayer['prototype']['_updateEdgeDistanceFalloffFactor']=function(){const _0x50d519=_0x555439;if(this[_0x50d519(0x30b)]===0x0){this[_0x50d519(0x29c)]=0x0;return;}this['_edgeDistanceFalloffFactor']=this[_0x50d519(0x29c)]/this[_0x50d519(0x30b)]*0x28,this[_0x50d519(0x29c)]=0x0,this[_0x50d519(0x30b)]=0x0;},S3MTilesLayer[_0x555439(0x300)][_0x555439(0x307)]=function(_0x3ee43b,_0x287584){this['_edgeCurrentTotalLength']+=_0x3ee43b,this['_edgeCurrentCount']+=_0x287584;};function updateWaterPlane(_0x488d6b,_0x395d74){const _0x4d2782=_0x555439;if(!_0x488d6b['_waterPlanes'])return;let _0x2e9a35=_0x488d6b[_0x4d2782(0x269)];_0x395d74[_0x4d2782(0x28a)]===undefined&&(_0x395d74[_0x4d2782(0x28a)]=0x615299);_0x395d74[_0x4d2782(0x1c6)]===undefined&&(_0x395d74[_0x4d2782(0x1c6)]=0x0);let _0x5d7b0c=_0x395d74[_0x4d2782(0x303)]['positionWC'];for(let _0x48f5aa in _0x2e9a35['_hash']){if(_0x2e9a35[_0x4d2782(0x1b5)][_0x4d2782(0x1b3)](_0x48f5aa)){let _0x1935b8=_0x2e9a35[_0x4d2782(0x1d0)](_0x48f5aa),_0x4f1231=_0x1935b8[_0x4d2782(0x29e)];if(_0x395d74[_0x4d2782(0x1df)]['computeVisibility'](_0x4f1231)===Cesium[_0x4d2782(0x325)][_0x4d2782(0x2c9)])continue;let _0x3ad6de=Cesium[_0x4d2782(0x1e1)][_0x4d2782(0x30d)](_0x4f1231[_0x4d2782(0x27e)],_0x5d7b0c)-_0x4f1231[_0x4d2782(0x29b)];_0x3ad6de=_0x3ad6de<0.01?0.01:_0x3ad6de,_0x3ad6de<_0x395d74[_0x4d2782(0x28a)]&&(_0x395d74[_0x4d2782(0x28a)]=_0x3ad6de,_0x395d74['heightOffset']=_0x1935b8[_0x4d2782(0x30d)]);}}}S3MTilesLayer['prototype'][_0x555439(0x1da)]=function(_0x23bd42){const _0x1152a3=_0x555439;let _0x414126=this[_0x1152a3(0x269)][_0x1152a3(0x26c)];return this[_0x1152a3(0x269)][_0x1152a3(0x2e7)](_0x414126,_0x23bd42),_0x414126;},S3MTilesLayer['prototype']['removeWaterPlane']=function(_0x4fed85){const _0x5b4caa=_0x555439;this[_0x5b4caa(0x269)][_0x5b4caa(0x289)](_0x4fed85);},S3MTilesLayer[_0x555439(0x300)]['prePassesUpdate']=function(_0x521c61){const _0x4417bd=_0x555439;if(!this['ready'])return;_0x521c61[_0x4417bd(0x218)]&&(this[_0x4417bd(0x2ed)][_0x4417bd(0x2c3)](),this[_0x4417bd(0x261)][_0x4417bd(0x26c)]=0x0,this[_0x4417bd(0x28b)][_0x4417bd(0x26c)]=0x0,this['_selectedTiles'][_0x4417bd(0x26c)]=0x0,Cesium[_0x4417bd(0x2ff)](_0x521c61[_0x4417bd(0x208)])&&_0x521c61['brdfLutGenerator']['update'](_0x521c61),updateWaterPlane(this,_0x521c61));};let scratchtTransposeViewMatrix=new Cesium[(_0x555439(0x31b))]();S3MTilesLayer[_0x555439(0x300)][_0x555439(0x2e1)]=function(_0x5370fe){const _0x126a97=_0x555439;if(!this[_0x126a97(0x273)])return;freeResource(this),this['_updateFlattenFramebuffer'](_0x5370fe),this[_0x126a97(0x229)](),this[_0x126a97(0x1ba)]&&this[_0x126a97(0x1ba)][_0x126a97(0x2c6)](this['id']);};function isLayerVisible(_0x4798fa,_0x4b1928){const _0x252ce6=_0x555439;let _0x391cf0=_0x4b1928['camera'];if(_0x391cf0[_0x252ce6(0x2b0)][_0x252ce6(0x2f8)]<_0x4798fa[_0x252ce6(0x324)]||_0x391cf0['positionCartographic'][_0x252ce6(0x2f8)]>_0x4798fa['_maxVisibleAltitude'])return![];if(!_0x4798fa[_0x252ce6(0x1ce)](_0x4b1928[_0x252ce6(0x204)]))return![];return _0x4798fa['visible'];}function updateClipPlanes(_0x349c8c,_0x249b9c){const _0x24b86a=_0x555439;if(_0x349c8c[_0x24b86a(0x2c0)]){let _0x4cc9cf=_0x249b9c['camera']['inverseViewMatrix'];Cesium[_0x24b86a(0x31b)][_0x24b86a(0x2f4)](_0x4cc9cf,scratchtTransposeViewMatrix);for(let _0x324142=0x0;_0x324142<0x6;_0x324142++){Cesium[_0x24b86a(0x31b)][_0x24b86a(0x2d7)](scratchtTransposeViewMatrix,_0x349c8c[_0x24b86a(0x1fd)][_0x324142],_0x349c8c[_0x24b86a(0x302)][_0x324142]);}}}S3MTilesLayer[_0x555439(0x300)]['update']=function(_0x2a8af7){const _0x2ad54f=_0x555439;if(!this['ready']||!isLayerVisible(this,_0x2a8af7)||_0x2a8af7[_0x2ad54f(0x2d2)][_0x2ad54f(0x311)]&&!this[_0x2ad54f(0x326)])return;this[_0x2ad54f(0x2aa)][_0x2ad54f(0x1bb)](this,_0x2a8af7),requestTiles(this),processTiles(this,_0x2a8af7),updateTiles(this,_0x2a8af7),updateClipPlanes(this,_0x2a8af7);},S3MTilesLayer['prototype'][_0x555439(0x250)]=function(){return![];},S3MTilesLayer['prototype']['destroy']=function(){const _0x37583b=_0x555439;return this[_0x37583b(0x2ed)][_0x37583b(0x2c3)](),freeResource(this),this[_0x37583b(0x309)][_0x37583b(0x26c)]=0x0,this[_0x37583b(0x261)][_0x37583b(0x26c)]=0x0,this[_0x37583b(0x28b)][_0x37583b(0x26c)]=0x0,this['_selectedTiles']['length']=0x0,this['_selections'][_0x37583b(0x26c)]=0x0,this[_0x37583b(0x222)][_0x37583b(0x275)](),this['_objsVisibleList'][_0x37583b(0x275)](),this[_0x37583b(0x1dd)]['removeAll'](),this[_0x37583b(0x1ef)]={},this['_objsColorList']={},this[_0x37583b(0x232)][_0x37583b(0x2a0)](),this[_0x37583b(0x1b2)]['destroy'](),Cesium[_0x37583b(0x2b6)](this);};export default S3MTilesLayer;