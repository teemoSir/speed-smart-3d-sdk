const _0x1f95=['fromCssColorString','raiseEvent','78698GyhQXC','DeveloperError','setInputAction','Line','Cartesian3','active','3746348IYKGhs','endPosition','random','removeInputAction','isDrawing','fromType','Cartesian2','activate','points','_clampMode','1dEectS','137ZlKtQq','clone','position','polylines','show','597BaOOxs','ScreenSpaceEventType','viewer\x20and\x20mode\x20is\x20required!','Ground','Point','polyline-','prototype','entities','PointPrimitiveCollection','_drawEvt','deactivate','mode','6011wfQpSr','pickPositionSupported','_activeEvt','polygon','MOUSE_MOVE','push','length','slice','point','activeEvt','1016917RqZGhr','clampToGroundPolylines','ColorType','withAlpha','Color','log','RIGHT_CLICK','Space','ORANGE','LEFT_CLICK','removeAll','226RKuWQt','PolylineCollection','ScreenSpaceEventHandler','Event','viewer','Polygon','pickPosition','primitives','hierarchy','Material','#51ff00','polyline','drawEvt','movingEvt','add','positions','13LRIDRK','your\x20browser\x20not\x20supported\x20pickPosition!','668266DOuYvp','canvas','remove','WHITE','handler','scene','183796NuaziK'];const _0x1b6a7f=_0x54d5;(function(_0x43fc35,_0x1a4352){const _0x5d125a=_0x54d5;while(!![]){try{const _0xd64851=parseInt(_0x5d125a(0xd2))*parseInt(_0x5d125a(0xeb))+parseInt(_0x5d125a(0xfd))*-parseInt(_0x5d125a(0xc0))+-parseInt(_0x5d125a(0xd8))+-parseInt(_0x5d125a(0x107))+parseInt(_0x5d125a(0xf1))*-parseInt(_0x5d125a(0xec))+parseInt(_0x5d125a(0xdb))*-parseInt(_0x5d125a(0xd0))+parseInt(_0x5d125a(0xe1));if(_0xd64851===_0x1a4352)break;else _0x43fc35['push'](_0x43fc35['shift']());}catch(_0x9b9110){_0x43fc35['push'](_0x43fc35['shift']());}}}(_0x1f95,0xb73d8));import _0x2dec98 from'./DrawMode.js';import _0x3908ff from'./ClampMode.js';function _0x54d5(_0x14c8e6,_0x47617b){_0x14c8e6=_0x14c8e6-0xba;let _0x1f9550=_0x1f95[_0x14c8e6];return _0x1f9550;}let DrawHandler=function(_0xf0b1f4,_0x41cc75,_0xe3dbda){const _0x394e4b=_0x54d5;if(!_0xf0b1f4||_0x41cc75===undefined)throw new Cesium[(_0x394e4b(0xdc))](_0x394e4b(0xf3));this[_0x394e4b(0xd6)]=new Cesium[(_0x394e4b(0xc2))](_0xf0b1f4[_0x394e4b(0xd7)][_0x394e4b(0xd3)]),this[_0x394e4b(0xc4)]=_0xf0b1f4,this[_0x394e4b(0xfc)]=_0x41cc75,this['_clampMode']=Cesium['defaultValue'](_0xe3dbda,_0x3908ff[_0x394e4b(0xbc)]),this[_0x394e4b(0xe5)]=![],this[_0x394e4b(0xe0)]=![],this[_0x394e4b(0xfa)]=new Cesium[(_0x394e4b(0xc3))](),this['_activeEvt']=new Cesium[(_0x394e4b(0xc3))](),this[_0x394e4b(0xcd)]=new Cesium['Event'](),this[_0x394e4b(0xef)]=undefined,this[_0x394e4b(0xcb)]=undefined,this[_0x394e4b(0x100)]=undefined,this['points']=undefined,this['point']=undefined;};Object['defineProperties'](DrawHandler[_0x1b6a7f(0xf7)],{'drawEvt':{'get':function(){return this['_drawEvt'];}},'activeEvt':{'get':function(){const _0x25e2ae=_0x1b6a7f;return this[_0x25e2ae(0xff)];}}}),DrawHandler[_0x1b6a7f(0xf7)][_0x1b6a7f(0xe8)]=function(){const _0x3f7506=_0x1b6a7f;if(this['active']===!![])return;this[_0x3f7506(0xe0)]=!![];let _0x50916c=this;this[_0x3f7506(0xd6)][_0x3f7506(0xdd)](function(_0x592719){clickHandler(_0x592719,_0x50916c);},Cesium[_0x3f7506(0xf2)][_0x3f7506(0xbe)]),this[_0x3f7506(0xd6)][_0x3f7506(0xdd)](function(_0x282d8d){moveHandler(_0x282d8d,_0x50916c);},Cesium[_0x3f7506(0xf2)]['MOUSE_MOVE']),this[_0x3f7506(0xd6)][_0x3f7506(0xdd)](function(_0x29e8a3){rclkHandler(_0x29e8a3,_0x50916c);},Cesium[_0x3f7506(0xf2)][_0x3f7506(0xbb)]),this[_0x3f7506(0x106)][_0x3f7506(0xda)](!![]);},DrawHandler[_0x1b6a7f(0xf7)][_0x1b6a7f(0xfb)]=function(){const _0x2778d7=_0x1b6a7f;this[_0x2778d7(0xe0)]=![],this[_0x2778d7(0xe5)]=![],this[_0x2778d7(0xd6)][_0x2778d7(0xe4)](Cesium[_0x2778d7(0xf2)][_0x2778d7(0xbe)]),this[_0x2778d7(0xd6)][_0x2778d7(0xe4)](Cesium[_0x2778d7(0xf2)][_0x2778d7(0x101)]),this[_0x2778d7(0xd6)][_0x2778d7(0xe4)](Cesium[_0x2778d7(0xf2)][_0x2778d7(0xbb)]),this[_0x2778d7(0x106)][_0x2778d7(0xda)](![]);},DrawHandler[_0x1b6a7f(0xf7)]['clear']=function(){const _0x5bd08d=_0x1b6a7f;this[_0x5bd08d(0xfb)](),this['polylines']&&(this[_0x5bd08d(0xef)][_0x5bd08d(0xbf)](),this['viewer'][_0x5bd08d(0xd7)]['primitives'][_0x5bd08d(0xd4)](this[_0x5bd08d(0xef)]),this['polylines']=undefined),this[_0x5bd08d(0x100)]&&(this['viewer']['entities'][_0x5bd08d(0xd4)](this['polygon']),this[_0x5bd08d(0x100)]=undefined),this['points']&&(this[_0x5bd08d(0xe9)]['removeAll'](),this[_0x5bd08d(0xc4)][_0x5bd08d(0xd7)]['primitives'][_0x5bd08d(0xd4)](this[_0x5bd08d(0xe9)]),this['points']=undefined);};function clickHandler(_0x149170,_0x2878f0){const _0x3eccf3=_0x1b6a7f;let _0x3124a7=_0x2878f0;if(_0x3124a7&&_0x3124a7[_0x3eccf3(0xe0)]){let _0x4ed9f2=_0x3124a7[_0x3eccf3(0xc4)][_0x3eccf3(0xd7)];if(!_0x4ed9f2[_0x3eccf3(0xfe)]){console[_0x3eccf3(0xba)](_0x3eccf3(0xd1));return;}let _0x16a24a=_0x4ed9f2[_0x3eccf3(0xc6)](_0x149170[_0x3eccf3(0xee)]);if(_0x16a24a){if(!_0x3124a7[_0x3eccf3(0xe5)]){_0x3124a7[_0x3eccf3(0xe5)]=!![];switch(_0x3124a7[_0x3eccf3(0xfc)]){case _0x2dec98[_0x3eccf3(0xf5)]:startDrawPoint(_0x16a24a,_0x3124a7);break;case _0x2dec98[_0x3eccf3(0xde)]:startDrawLine(_0x16a24a,_0x3124a7);break;case _0x2dec98[_0x3eccf3(0xc5)]:startDrawPolygon(_0x16a24a,_0x3124a7);break;default:break;}}else{let _0x2bc5f8=new Cesium[(_0x3eccf3(0xe7))](_0x149170[_0x3eccf3(0xee)]['x'],_0x149170[_0x3eccf3(0xee)]['y']);switch(_0x3124a7['mode']){case _0x2dec98['Line']:processLine(_0x2bc5f8,_0x3124a7,!![]);break;case _0x2dec98['Polygon']:processPolygon(_0x2bc5f8,_0x3124a7,!![]);break;default:break;}}}}}function startDrawPoint(_0x33810a,_0x1c13e7){const _0x4345cb=_0x1b6a7f;let _0x975754=_0x1c13e7;!_0x975754[_0x4345cb(0xe9)]?(_0x975754['points']=new Cesium[(_0x4345cb(0xf9))](),_0x975754[_0x4345cb(0x105)]=_0x975754[_0x4345cb(0xe9)][_0x4345cb(0xce)]({'position':_0x33810a,'pixelSize':0xa,'color':Cesium[_0x4345cb(0x10b)][_0x4345cb(0xd5)]}),_0x975754[_0x4345cb(0xc4)][_0x4345cb(0xd7)][_0x4345cb(0xc7)]['add'](_0x975754['points'])):_0x975754[_0x4345cb(0x105)][_0x4345cb(0xee)]=_0x33810a,_0x975754[_0x4345cb(0xfb)](),_0x975754['drawEvt'][_0x4345cb(0xda)]({'object':_0x975754[_0x4345cb(0x105)]});}function startDrawLine(_0x1f76b7,_0x1c0c61){const _0x46753d=_0x1b6a7f;let _0x1ffbec=_0x1c0c61;!_0x1ffbec[_0x46753d(0xef)]?(_0x1ffbec['polylines']=new Cesium[(_0x46753d(0xc1))](),_0x1ffbec[_0x46753d(0xcb)]=_0x1ffbec[_0x46753d(0xef)][_0x46753d(0xce)]({'width':0x2,'positions':[_0x1f76b7,_0x1f76b7],'material':Cesium[_0x46753d(0xc9)][_0x46753d(0xe6)](Cesium['Material'][_0x46753d(0x109)],{'color':Cesium['Color']['fromCssColorString'](_0x46753d(0xca))})}),_0x1ffbec['viewer'][_0x46753d(0xd7)][_0x46753d(0xc7)][_0x46753d(0xce)](_0x1ffbec[_0x46753d(0xef)])):(_0x1ffbec[_0x46753d(0xcb)]['show']=!![],_0x1ffbec['polyline'][_0x46753d(0xcf)]=[_0x1f76b7,_0x1f76b7]);}function startDrawPolygon(_0x5ac567,_0x204490){const _0x529b01=_0x1b6a7f;let _0x3030e8=_0x204490;!_0x3030e8[_0x529b01(0xef)]?(_0x3030e8[_0x529b01(0xef)]=new Cesium[(_0x529b01(0xc1))](),_0x3030e8[_0x529b01(0xcb)]=_0x3030e8[_0x529b01(0xef)][_0x529b01(0xce)]({'id':_0x529b01(0xf6)+Math[_0x529b01(0xe3)](),'width':0x2,'positions':[_0x5ac567,_0x5ac567],'material':Cesium[_0x529b01(0xc9)][_0x529b01(0xe6)](Cesium[_0x529b01(0xc9)][_0x529b01(0x109)],{'color':Cesium['Color'][_0x529b01(0xd9)](_0x529b01(0xca))}),'loop':!![]}),_0x3030e8[_0x529b01(0xc4)][_0x529b01(0xd7)]['primitives'][_0x529b01(0xce)](_0x3030e8[_0x529b01(0xef)])):(_0x3030e8[_0x529b01(0xcb)][_0x529b01(0xf0)]=!![],_0x3030e8[_0x529b01(0xcb)]['positions']=[_0x5ac567,_0x5ac567],_0x3030e8[_0x529b01(0x100)]&&(_0x3030e8[_0x529b01(0x100)][_0x529b01(0xf0)]=![]));}function moveHandler(_0x4c7683,_0x170976){const _0x1ef69e=_0x1b6a7f;let _0x25c361=_0x170976;if(_0x25c361&&_0x25c361[_0x1ef69e(0xe0)]&&_0x25c361[_0x1ef69e(0xe5)]){let _0x293a41=new Cesium[(_0x1ef69e(0xe7))](_0x4c7683[_0x1ef69e(0xe2)]['x'],_0x4c7683[_0x1ef69e(0xe2)]['y']);switch(_0x25c361[_0x1ef69e(0xfc)]){case _0x2dec98[_0x1ef69e(0xde)]:processLine(_0x293a41,_0x25c361,![]);break;case _0x2dec98[_0x1ef69e(0xc5)]:processPolygon(_0x293a41,_0x25c361,![]);break;default:break;}}_0x25c361['movingEvt'][_0x1ef69e(0xda)](new Cesium[(_0x1ef69e(0xe7))](_0x4c7683['endPosition']['x'],_0x4c7683['endPosition']['y']));}function processLine(_0xe59511,_0x52437f,_0x554db7){const _0x4995a2=_0x1b6a7f;let _0x28e6f6=_0x52437f,_0x17b370=_0x28e6f6[_0x4995a2(0xc4)][_0x4995a2(0xd7)],_0x3062d9=_0x17b370[_0x4995a2(0xc6)](_0xe59511);if(!_0x3062d9)return;let _0x246126=_0x28e6f6[_0x4995a2(0xcb)][_0x4995a2(0xcf)],_0x441dcd=_0x246126[_0x4995a2(0x103)];_0x554db7?_0x246126[_0x441dcd]=_0x3062d9:_0x246126[_0x441dcd-0x1]=_0x3062d9,_0x28e6f6[_0x4995a2(0xcb)][_0x4995a2(0xcf)]=_0x246126;}function processPolygon(_0x50fcec,_0x3934e4,_0x2cb3f3){const _0x25b9b6=_0x1b6a7f;let _0x53e78f=_0x3934e4,_0x563555=_0x53e78f[_0x25b9b6(0xc4)][_0x25b9b6(0xd7)],_0x5535f4=_0x563555[_0x25b9b6(0xc6)](_0x50fcec);if(!_0x5535f4)return;let _0x4944d6=_0x53e78f['polyline'][_0x25b9b6(0xcf)],_0x297297=_0x4944d6['length'];_0x2cb3f3?_0x4944d6[_0x297297]=_0x5535f4:_0x4944d6[_0x297297-0x1]=_0x5535f4,_0x53e78f['polyline'][_0x25b9b6(0xcf)]=_0x4944d6;}function rclkHandler(_0x2078fa,_0x35f602){const _0x2645c0=_0x1b6a7f;let _0x4ddae0=_0x35f602;if(_0x4ddae0&&_0x4ddae0[_0x2645c0(0xe0)]&&_0x4ddae0['isDrawing']){_0x4ddae0['deactivate']();if(!_0x4ddae0[_0x2645c0(0xcb)])return;_0x4ddae0['polyline'][_0x2645c0(0xcf)]=_0x4ddae0[_0x2645c0(0xcb)][_0x2645c0(0xcf)][_0x2645c0(0x104)](0x0,_0x4ddae0['polyline'][_0x2645c0(0xcf)][_0x2645c0(0x103)]-0x1);if(_0x4ddae0['mode']===_0x2dec98[_0x2645c0(0xc5)]){if(_0x4ddae0['polyline']['positions']['length']<0x3){_0x4ddae0['polyline'][_0x2645c0(0xcf)][_0x2645c0(0x103)]=0x0;return;}let _0x49d2a1=[]['concat'](_0x4ddae0[_0x2645c0(0xcb)]['positions']);!_0x4ddae0[_0x2645c0(0x100)]&&(_0x4ddae0[_0x2645c0(0x100)]=_0x4ddae0['viewer'][_0x2645c0(0xf8)][_0x2645c0(0xce)]({'polygon':{'hierarchy':{'positions':_0x49d2a1},'material':Cesium[_0x2645c0(0x10b)][_0x2645c0(0xbd)][_0x2645c0(0x10a)](0.5),'perPositionHeight':_0x3908ff['Space']===_0x4ddae0[_0x2645c0(0xea)]}})),_0x4ddae0[_0x2645c0(0x100)][_0x2645c0(0x100)][_0x2645c0(0xc8)]=_0x49d2a1,_0x4ddae0[_0x2645c0(0x100)]['positions']=_0x49d2a1,_0x4ddae0[_0x2645c0(0x100)][_0x2645c0(0xf0)]=!![],_0x4ddae0['drawEvt'][_0x2645c0(0xda)]({'object':_0x4ddae0['polygon']});}else{if(_0x4ddae0[_0x2645c0(0xfc)]===_0x2dec98[_0x2645c0(0xde)]){let _0x3c015b=[];for(let _0x1ccfb9=0x0,_0x66a53e=_0x4ddae0[_0x2645c0(0xcb)][_0x2645c0(0xcf)][_0x2645c0(0x103)];_0x1ccfb9<_0x66a53e;_0x1ccfb9++){_0x3c015b[_0x2645c0(0x102)](Cesium[_0x2645c0(0xdf)][_0x2645c0(0xed)](_0x4ddae0['polyline'][_0x2645c0(0xcf)][_0x1ccfb9]));}(_0x4ddae0[_0x2645c0(0xea)]===_0x3908ff['S3mModel']||_0x4ddae0[_0x2645c0(0xea)]===_0x3908ff[_0x2645c0(0xf4)])&&(!_0x4ddae0[_0x2645c0(0x108)]&&(_0x4ddae0[_0x2645c0(0x108)]=[]),_0x4ddae0[_0x2645c0(0x108)][_0x2645c0(0x102)](_0x4ddae0[_0x2645c0(0xc4)][_0x2645c0(0xf8)]['add']({'polyline':{'positions':_0x3c015b,'width':0x5,'material':Cesium[_0x2645c0(0x10b)]['fromCssColorString'](_0x2645c0(0xca)),'clampToGround':!![]}})),_0x4ddae0['polyline'][_0x2645c0(0xf0)]=![]),_0x4ddae0[_0x2645c0(0xcc)][_0x2645c0(0xda)]({'object':_0x4ddae0['polyline']});}}}}export default DrawHandler;